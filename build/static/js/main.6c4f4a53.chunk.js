(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{229:function(e,t,a){e.exports=a(558)},558:function(e,t,a){"use strict";a.r(t);a(230),a(396);var s=a(0),i=a.n(s),n=a(42),r=a.n(n),l=a(43),o=a(228),d=a.n(o),p=a(89),u=a(12),m=a(13),c=a(15),h=a(14),y=a(16),g=a(154),f=a(37),v=a.n(f),b=a(6),E=a.n(b),_=a(7),P=a.n(_),F=a(109),w=a.n(F),S=a(108),C=a.n(S),H=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e,t){t&&(a.setState({wstype:t}),a.props.handleChange(t))},a.state={wstype:""},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({wstype:this.props.wstype})}},{key:"componentDidUpdate",value:function(e){this.props.wstype!==e.wstype&&this.setState({wstype:this.props.wstype})}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(v.a,{elevation:0,classes:{root:e.paperRoot}},i.a.createElement(E.a,{container:!0,spacing:0},i.a.createElement(E.a,{item:!0,xs:12,sm:4},i.a.createElement(P.a,{variant:"h5",classes:{root:e.titleRoot}},"ACIS Query Builder")),i.a.createElement(E.a,{item:!0},i.a.createElement(C.a,{value:this.state.wstype,exclusive:!0,onChange:this.handleChange},this.props.query_types.map(function(t){return i.a.createElement(w.a,{key:t,value:t,classes:{root:e.root,selected:e.selected}},t)})))))}}]),t}(s.Component),O=Object(l.withStyles)({root:{background:"white",color:"darkblue",textTransform:"none",borderRight:"1pt solid lightgray"},selected:{background:"blue !important",color:"white !important"},paperRoot:{margin:"0 0 2em"},titleRoot:{color:"darkblue"}})(H),x=a(20),j=a(81),D=a.n(j),M=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState({value:t.target.value}),a.props.updateParam(Object(x.a)({},e,t.target.value))}},a.handleFocus=function(e){return function(t){a.props.updateHelpFor(e)}},a.handleBlur=function(){a.props.updateHelpFor(null)},a.shouldComponentUpdate=function(e,t){return a.props!==e||a.state!==t},a.state={value:""},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({value:this.props.value})}},{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.setState({value:this.props.value})}},{key:"render",value:function(){var e=this.props.id,t=this.props.fieldlabel,a=this.props.options,s=a.hasOwnProperty("style")?a.style:{},n=!!a.hasOwnProperty("required")&&a.required,r=!!a.hasOwnProperty("multiline")&&a.multiline,l=!!a.hasOwnProperty("disabled")&&a.disabled,o=a.hasOwnProperty("placeholder")?a.placeholder:"";return i.a.createElement("div",null,i.a.createElement(D.a,{id:e,label:t,value:this.state.value,margin:"dense",variant:"outlined",required:n,multiline:r,disabled:l,placeholder:o,inputProps:{style:{paddingTop:"7px",paddingBottom:"7px",fontSize:"80%",width:"100%"}},InputLabelProps:{shrink:!0,style:{color:n?"limegreen":"gray"}},style:s,onChange:this.handleChange(e),onFocus:this.handleFocus(e),onBlur:this.handleBlur}))}}]),t}(s.Component),A=a(222),N=a.n(A),I=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).updateParam=function(e){a.setState(e),a.props.updateParam(e)},a.updateDates=function(){a.props.updateParam({sdate:a.state.sdate,edate:a.state.edate,date:a.state.date})},a.handleChipClick=function(){if("pair"===a.state.datetype){var e=a.state.sdate;a.setState({sdate:"",edate:"",date:e,datetype:"single"},a.updateDates)}else{var t=a.state.date;a.setState({date:"",sdate:t,datetype:"pair"},a.updateDates)}},a.componentDidUpdate=function(e){a.props!==e&&a.setState({sdate:a.props.sdate,edate:a.props.edate,date:a.props.date})},a.state={sdate:"",edate:"",date:"",datetype:"pair"},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(N.a,{label:"pair"===this.state.datetype?"Change to single date":"Change to start/end dates",clickable:!0,variant:"outlined",tabIndex:"-1",style:{marginBottom:"0.5em",marginTop:"0.5em"},onClick:this.handleChipClick}),"pair"===this.state.datetype&&i.a.createElement("div",null,i.a.createElement(M,{id:"sdate",fieldlabel:"Start date",value:this.state.sdate,options:{},updateHelpFor:this.props.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"edate",fieldlabel:"End date",value:this.state.edate,options:{},updateHelpFor:this.props.updateHelpFor,updateParam:this.updateParam})),"single"===this.state.datetype&&i.a.createElement(M,{id:"date",fieldlabel:"Date",value:this.state.date,options:{},updateHelpFor:this.props.updateHelpFor,updateParam:this.updateParam}))}}]),t}(s.Component),k=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).updateHelpFor=function(e){a.props.updateAppState({helpFor:e})},a.updateParam=function(e){a.setState(e),a.props.updateInputParams(e)},a.shouldComponentUpdate=function(e,t){return a.state!==t||a.props!==e&&a.metafields.some(function(t){return e.input_params.hasOwnProperty(t)&&a.state[t]!==e.input_params[t]||!e.input_params.hasOwnProperty(t)&&""!==a.state[t]})},a.componentDidUpdate=function(e){a.props.input_params!==e.input_params&&a.metafields.forEach(function(e){a.props.input_params.hasOwnProperty(e)&&a.state[e]!==a.props.input_params[e]?a.setState(Object(x.a)({},e,a.props.input_params[e])):a.props.input_params.hasOwnProperty(e)||""===a.state[e]||a.setState(Object(x.a)({},e,""))})},a.state={sids:"",county:"",climdiv:"",cwa:"",basin:"",state:"",bbox:"",sdate:"",edate:"",date:"",meta:"",elems:"",output:"",network:""},a.metafields=Object.keys(a.state),a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(E.a,{container:!0},i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Required input"),i.a.createElement(P.a,{variant:"caption"},"Enter at least one of the following:"),0===this.state.county.length&&0===this.state.climdiv.length&&0===this.state.cwa.length&&0===this.state.basin.length&&0===this.state.state.length&&0===this.state.bbox.length&&i.a.createElement(M,{id:"sids",fieldlabel:"Station ID(s)",value:this.state.sids,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),0===this.state.sids.length&&i.a.createElement("div",null,i.a.createElement(M,{id:"state",fieldlabel:"State",value:this.state.state,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"county",fieldlabel:"County",value:this.state.county,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"climdiv",fieldlabel:"Climate Division",value:this.state.climdiv,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"cwa",fieldlabel:"CWA",value:this.state.cwa,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"basin",fieldlabel:"Basin",value:this.state.basin,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"bbox",fieldlabel:"Bounding box",value:this.state.bbox,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}))),i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Optional input"),i.a.createElement(P.a,{variant:"caption"},"Enter any or all of the following:"),i.a.createElement(M,{id:"meta",fieldlabel:"Meta options",value:this.state.meta,options:{style:{width:"95%"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),(0===this.state.sids.length||this.state.meta.includes("valid_daterange"))&&i.a.createElement(M,{id:"elems",fieldlabel:"Elements",value:this.state.elems,options:{required:!!this.state.meta.includes("valid_daterange")},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"network",fieldlabel:"Network",value:this.state.network,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"output",fieldlabel:"Output type",value:this.state.output,options:{disabled:!(!this.state.meta.length||"json"!==this.state.output)},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),0===this.state.sids.length&&i.a.createElement(I,{sdate:this.state.sdate,edate:this.state.edate,date:this.state.date,updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}))))}}]),t}(s.Component),B=a(49),R=a(27),L=a.n(R);function T(e,t){var a={},s=[],i=["duration","vX","vN","prec","base"];if(e.forEach(function(e){""!==t[e]&&(i.includes(e)&&!isNaN(Number(t[e]))?a[e]=Number(t[e]):a[e]=t[e])}),a.hasOwnProperty("interval")&&(a.interval.includes(",")||a.interval.includes("["))&&(a.interval=a.interval.replace(/[[\]]/g,"").split(",").map(function(e){return Number(e)})),"string"===typeof a.duration&&"dly"!==a.duration||"number"===typeof a.duration&&(1!==a.duration||"dly"!==a.interval&&!(Array.isArray(a.interval)&&3===a.interval.length))?delete a.add:(delete a.reduce,delete a.maxmissing),a.hasOwnProperty("interval")&&("yly"===a.interval||Array.isArray(a.interval)&&1===a.interval.length)&&delete a.groupby,a.hasOwnProperty("name")&&!a.name.includes("dd")&&delete a.base,a.hasOwnProperty("duration")&&"std"!==a.duration&&delete a.season_start,a.hasOwnProperty("season_start")&&(a.season_start.includes(",")||a.season_start.includes("["))&&(a.season_start=a.season_start.replace(/[[\]]/g,"").split(",").map(function(e){return Number(e)})),a.hasOwnProperty("elem_sdate")&&(a.sdate=a.elem_sdate,delete a.elem_sdate),a.hasOwnProperty("elem_edate")&&(a.edate=a.elem_edate,delete a.elem_edate),s=e.filter(function(e){return e.includes("reduce_")}),a.hasOwnProperty("reduce")){a.reduce.includes("run")||delete a.reduce_run_maxmissing;var n={};s.forEach(function(e){a.hasOwnProperty(e)&&(n[e.replace("reduce_","")]=a[e],delete a[e])}),Object.keys(n).length>0&&(a.reduce=Object(p.a)({},n,{reduce:a.reduce}))}else s.forEach(function(e){a.hasOwnProperty(e)&&delete a[e]});if(s=e.filter(function(e){return e.includes("smry_")&&"smry_only"!==e}),a.hasOwnProperty("smry")){a.smry.includes("run")||delete a.smry_run_maxmissing;var r={};s.forEach(function(e){a.hasOwnProperty(e)&&(r[e.replace("smry_","")]=a[e],delete a[e])}),Object.keys(r).length>0&&(a.smry=Object(p.a)({},r,{reduce:a.smry}))}else s.forEach(function(e){a.hasOwnProperty(e)&&delete a[e]}),delete a.smry_only;return t.elems.includes("{")?[].concat(Object(B.a)(JSON.parse(t.elems)),[a]):[a]}function G(e,t){var a={};return e.forEach(function(e){""!==t[e]&&(a[e]="width"===e||"height"===e?Number(t[e]):t[e])}),a.hasOwnProperty("levels")&&(a.levels=a.levels.replace(/[[\]]/g,"").split(",").map(function(e){return Number(e)})),a.hasOwnProperty("overlays")&&a.overlays.includes(",")&&(a.overlays=a.overlays.replace(/[[\]]/g,"").split(",").map(function(e){return e.replace(/["']/g,"")})),a}var X=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).shouldComponentUpdate=function(e,t){return a.props.input_params.elems!==e.input_params.elems||a.props.input_params.sdate!==e.input_params.sdate||a.props.input_params.edate!==e.input_params.edate||a.state.exptext!==t.exptext},a.componentDidUpdate=function(e){var t=function(e){var t="",a=null,s=["January","February","March","April","May","June","July","August","September","October","November","December"],i=function(e,t){var a=[];if(e.includes("-"))a=e.split("-").map(function(e){return Number(e)});else{if(!("day"===t&&8===e.length||"month"===t&&6===e.length||"year"===t&&4===e.length))return"por"===e?"period of record":null;a=[Number(e.substr(0,4)),Number(e.substr(4,2)),Number(e.substr(6,2))]}return"year"===t?a[0]:"month"===t?s[a[1]-1]+" "+a[0]:"day"===t?s[a[1]-1]+" "+a[2]+", "+a[0]:null},n="Not a valid interval. Clear this element and add again with a valid interval.",r={mtd:"month-to-date",std:"season-to-date",ytd:"year-to-date"},l=["year","month","day"];if(!e.hasOwnProperty("elems"))return null;try{a="string"===typeof e.elems?JSON.parse(e.elems).slice(-1)[0]:e.elems.slice(-1)[0]}catch(F){return null}if(!a.hasOwnProperty("interval"))return null;var o=a.interval;if("string"===typeof o)if("dly"===o)o=[0,0,1];else if("mly"===o)o=[0,1];else{if("yly"!==o)return n;o=[1]}var d=Math.max.apply(Math,Object(B.a)(o)),p=o.indexOf(d);if(o.length<1||o.length>3||p<0)return n;var u=l[o.length-1],m=l[p],c=a.hasOwnProperty("duration")?a.duration:1,h=a.hasOwnProperty("reduce")?"object"===typeof a.reduce?a.reduce.reduce:a.reduce:null;if("dly"===c||"mly"===c||"yly"===c?c=1:isNaN(Number(c))||(c=Number(c)),!(1===c&&"day"===u||h))return"You need to specify a reduction for this request. Clear this element and add again with a reduction.";if("string"===typeof c&&!r.hasOwnProperty(c))return"Not a valid duration. Clear this element and add again with a valid duration.";if("std"===c&&!a.hasOwnProperty("season_start"))return"You need to specify a 'season start' for a duration of 'std'. Clear this element and add again with a season start.";1===c&&"day"===u||(t+="Each data value returned for this query element will be a "+("string"===typeof c?r[c]:c+"-"+u)+" "+h,"std"===c&&("string"===typeof a.season_start&&(a.season_start=a.season_start.split("-").map(function(e){return Number(e)})),1===a.season_start.length&&a.season_start.push(1),t+=" since "+s[a.season_start[0]-1]+" "+a.season_start[1]),t+=". ");if(t+="Results will consist of one value every "+(1===d?m:d+" "+m+"s"),e.hasOwnProperty("sdate")&&e.hasOwnProperty("edate")||e.hasOwnProperty("date")||a.hasOwnProperty("sdate")&&a.hasOwnProperty("edate")){var y=a.sdate||e.sdate||e.date,g=a.edate||e.edate||null,f=i(y,u),v=g?i(g,u):"na";if(!f||!v)return"Invalid date specifications.";if("day"===u&&p<2){var b=f.split(", "),E=v.split(", ");v=b[0]+", "+E[1]}else if("month"===u&&p<1){var _=f.split(" "),P=v.split(" ");v=_[0]+" "+P[1]}t+=" for "+(a.hasOwnProperty("reduce")?"the periods ending ":"")+f+("na"!==v?" through "+v:"")}return t+=". "}(a.props.input_params);a.setState({exptext:t})},a.state={exptext:null},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement(v.a,{elevation:0,style:{marginTop:"1em"}},this.state.exptext&&i.a.createElement("div",null,i.a.createElement(v.a,{elevation:3,style:{border:"1px solid lightgray",margin:"0",padding:"10px",width:"85%",backgroundColor:"#f4ffff"}},i.a.createElement(P.a,{variant:"body2",style:{fontWeight:"bold"}},"Expected return:"),i.a.createElement(P.a,{style:{fontSize:"80%"}},this.state.exptext))))}}]),t}(s.Component),U=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).addElement=function(){var e=JSON.stringify(T(a.elementKeys,a.state));a.setState({elems:e,haveInterval:""!==a.state.interval}),a.props.updateInputParams({elems:e}),a.props.updateAppState({helpFor:null})},a.clearElements=function(){a.setState({elems:"",haveInterval:!1}),a.props.updateInputParams({elems:""}),a.props.updateAppState({helpFor:null})},a.replaceElements=function(){a.setState({elems:""},a.addElement)},a.updateHelpFor=function(e){a.props.updateAppState({helpFor:e})},a.updateParam=function(e){a.setState(e),a.props.updateInputParams(e)},a.updateElems=function(e){0===e.elems.length&&a.setState({haveInterval:!1}),a.updateParam(e)},a.updateElemBuild=function(e){a.setState(e)},a.shouldComponentUpdate=function(e,t){return a.state!==t||a.props!==e&&a.datafields.some(function(t){return e.input_params.hasOwnProperty(t)&&a.state[t]!==e.input_params[t]||!e.input_params.hasOwnProperty(t)&&""!==a.state[t]})},a.state={sid:"",sdate:"",edate:"",date:"",elems:"",name:"",base:"",interval:"",duration:"",season_start:"",add:"",reduce:"",reduce_add:"",reduce_n:"",reduce_run_maxmissing:"",maxmissing:"",smry:"",smry_add:"",smry_n:"",smry_run_maxmissing:"",smry_only:"",normal:"",groupby:"",prec:"",meta:"",output:"",haveInterval:!1},a.datafields=["sid","sdate","edate","date","elems","meta","output"],a.elementKeys=Object.keys(a.state).filter(function(e){return!["haveInterval"].concat(Object(B.a)(a.datafields)).includes(e)}),a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.input_params!==e.input_params&&this.datafields.forEach(function(e){t.props.input_params.hasOwnProperty(e)&&t.state[e]!==t.props.input_params[e]?"elems"===e&&"object"===typeof t.props.input_params.elems?t.setState(Object(x.a)({},e,JSON.stringify(t.props.input_params[e]))):t.setState(Object(x.a)({},e,t.props.input_params[e])):t.props.input_params.hasOwnProperty(e)||""===t.state[e]||t.setState(Object(x.a)({},e,""))})}},{key:"render",value:function(){var e=3===this.state.duration.length&&"dly"!==this.state.duration||this.state.duration.length>0&&!isNaN(Number(this.state.duration))&&("1"!==this.state.duration||"dly"!==this.state.interval&&!(this.state.interval.includes("[")&&7===this.state.interval.length));return i.a.createElement(E.a,{container:!0},i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Required input"),i.a.createElement(M,{id:"sid",fieldlabel:"Station ID",value:this.state.sid,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(I,{sdate:this.state.sdate,edate:this.state.edate,date:this.state.date,updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"elems",fieldlabel:"Elements",value:this.state.elems,options:{style:{width:"90%"},multiline:!0,placeholder:"Enter directly or build using Element setup"},updateHelpFor:this.updateHelpFor,updateParam:this.updateElems}),this.state.elems.includes("{")&&i.a.createElement(L.a,{size:"small",variant:"outlined",style:{marginTop:"0.5em",backgroundColor:"lightcyan"},onMouseDown:this.clearElements},"Clear elements"),i.a.createElement(X,{input_params:this.props.input_params,wstype:"StnData"})),i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Optional element setup"),i.a.createElement(M,{id:"name",fieldlabel:"Name",value:this.state.name,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.name.includes("dd")&&i.a.createElement(M,{id:"base",fieldlabel:"Base",value:this.state.base,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"interval",fieldlabel:"Interval",value:this.state.interval,options:{disabled:this.state.haveInterval},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"duration",fieldlabel:"Duration",value:this.state.duration,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),"std"===this.state.duration&&i.a.createElement(M,{id:"season_start",fieldlabel:"Season start",value:this.state.season_start,options:{required:!0},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),!e&&i.a.createElement(M,{id:"add",fieldlabel:"Add",value:this.state.add,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),e&&i.a.createElement(M,{id:"reduce",fieldlabel:"Reduce",value:this.state.reduce,options:{required:!0},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.reduce.length>0&&e&&i.a.createElement("div",null,i.a.createElement(M,{id:"reduce_add",fieldlabel:"- Reduce Add",value:this.state.reduce_add,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild})),this.state.reduce.length>0&&e&&i.a.createElement(M,{id:"reduce_n",fieldlabel:"- Reduce Number",value:this.state.reduce_n,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.reduce.includes("run")&&e&&i.a.createElement(M,{id:"reduce_run_maxmissing",fieldlabel:"- Run max missing",value:this.state.reduce_run_maxmissing,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),e&&i.a.createElement(M,{id:"maxmissing",fieldlabel:"Max missing",value:this.state.maxmissing,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"smry",fieldlabel:"Summary",value:this.state.smry,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.smry.length>0&&i.a.createElement("div",null,i.a.createElement(M,{id:"smry_add",fieldlabel:"- Smry Add",value:this.state.smry_add,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild})),this.state.smry.length>0&&i.a.createElement(M,{id:"smry_n",fieldlabel:"- Smry Number",value:this.state.smry_n,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.smry.length>0&&this.state.smry.includes("run")&&i.a.createElement(M,{id:"smry_run_maxmissing",fieldlabel:"- Smry Max missing",value:this.state.smry_run_maxmissing,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.smry.length>0&&i.a.createElement(M,{id:"smry_only",fieldlabel:"Summary only",value:this.state.smry_only,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"normal",fieldlabel:"Normal",value:this.state.normal,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),"yly"!==this.state.interval&&"[1]"!==this.state.interval&&i.a.createElement(M,{id:"groupby",fieldlabel:"Group by",value:this.state.groupby,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"prec",fieldlabel:"Precision",value:this.state.prec,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.name.length>0&&i.a.createElement(L.a,{size:"small",variant:"outlined",style:{marginTop:"0.5em",backgroundColor:"lightcyan"},onMouseDown:this.addElement},"Add element"),this.state.name.length>0&&this.state.elems.includes("{")&&i.a.createElement(L.a,{size:"small",variant:"outlined",style:{marginTop:"0.5em",marginLeft:"0.5em",backgroundColor:"lightcyan"},onMouseDown:this.replaceElements},"Replace elements")),i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Optional input"),i.a.createElement(M,{id:"meta",fieldlabel:"Meta options",value:this.state.meta,options:{style:{width:"95%"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"output",fieldlabel:"Output type",value:this.state.output,options:{disabled:!(!this.state.meta.length||"json"!==this.state.output)},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam})))}}]),t}(s.Component),W=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).addElement=function(){var e=JSON.stringify(T(a.elementKays,a.state));a.setState({elems:e,haveInterval:!0}),a.props.updateInputParams({elems:e})},a.clearElements=function(){a.setState({elems:"",haveInterval:!1}),a.props.updateInputParams({elems:""})},a.replaceElements=function(){a.setState({elems:""},a.addElement)},a.updateHelpFor=function(e){a.props.updateAppState({helpFor:e})},a.updateParam=function(e){a.setState(e),a.props.updateInputParams(e)},a.updateElems=function(e){0===e.elems.length&&a.setState({haveInterval:!1}),a.updateParam(e)},a.updateElemBuild=function(e){a.setState(e)},a.shouldComponentUpdate=function(e,t){return a.state!==t||a.props!==e&&a.datafields.some(function(t){return e.input_params.hasOwnProperty(t)&&a.state[t]!==e.input_params[t]||!e.input_params.hasOwnProperty(t)&&""!==a.state[t]})},a.state={sids:"",county:"",climdiv:"",cwa:"",basin:"",state:"",bbox:"",sdate:"",edate:"",date:"",elems:"",name:"",base:"",interval:"",duration:"",season_start:"",add:"",reduce:"",reduce_add:"",reduce_n:"",reduce_run_maxmissing:"",maxmissing:"",smry:"",smry_add:"",smry_n:"",smry_run_maxmissing:"",smry_only:"",normal:"",groupby:"",prec:"",meta:"",output:"",haveInterval:!1,network:""},a.datafields=["sids","county","climdiv","cwa","basin","state","bbox","sdate","edate","date","elems","meta","output"],a.elementKays=Object.keys(a.state).filter(function(e){return!["haveInterval"].concat(Object(B.a)(a.datafields)).includes(e)}),a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.input_params!==e.input_params&&this.datafields.forEach(function(e){t.props.input_params.hasOwnProperty(e)&&t.state[e]!==t.props.input_params[e]?"elems"===e&&"object"===typeof t.props.input_params.elems?t.setState(Object(x.a)({},e,JSON.stringify(t.props.input_params[e]))):t.setState(Object(x.a)({},e,t.props.input_params[e])):t.props.input_params.hasOwnProperty(e)||""===t.state[e]||t.setState(Object(x.a)({},e,""))})}},{key:"render",value:function(){var e=3===this.state.duration.length&&"dly"!==this.state.duration||this.state.duration.length>0&&!isNaN(Number(this.state.duration))&&("1"!==this.state.duration||"dly"!==this.state.interval&&!(this.state.interval.includes("[")&&7===this.state.interval.length));return i.a.createElement("div",null,i.a.createElement(E.a,{container:!0},i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Required input"),i.a.createElement(P.a,{variant:"caption"},"Enter id(s) for one of the following area types:"),0===this.state.county.length&&0===this.state.sids.length&&0===this.state.bbox.length&&i.a.createElement(M,{id:"state",fieldlabel:"State",value:this.state.state,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),0===this.state.sids.length&&0===this.state.climdiv.length&&0===this.state.cwa.length&&0===this.state.basin.length&&0===this.state.state.length&&0===this.state.bbox.length&&i.a.createElement(M,{id:"county",fieldlabel:"County",value:this.state.county,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),0===this.state.county.length&&0===this.state.sids.length&&0===this.state.cwa.length&&0===this.state.basin.length&&0===this.state.bbox.length&&i.a.createElement(M,{id:"climdiv",fieldlabel:"Climate Division",value:this.state.climdiv,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),0===this.state.county.length&&0===this.state.climdiv.length&&0===this.state.sids.length&&0===this.state.basin.length&&0===this.state.bbox.length&&i.a.createElement(M,{id:"cwa",fieldlabel:"CWA",value:this.state.cwa,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),0===this.state.county.length&&0===this.state.climdiv.length&&0===this.state.cwa.length&&0===this.state.sids.length&&0===this.state.bbox.length&&i.a.createElement(M,{id:"basin",fieldlabel:"Basin",value:this.state.basin,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),0===this.state.county.length&&0===this.state.climdiv.length&&0===this.state.cwa.length&&0===this.state.basin.length&&0===this.state.state.length&&0===this.state.sids.length&&i.a.createElement(M,{id:"bbox",fieldlabel:"Bounding box",value:this.state.bbox,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),0===this.state.county.length&&0===this.state.climdiv.length&&0===this.state.cwa.length&&0===this.state.basin.length&&0===this.state.state.length&&0===this.state.bbox.length&&i.a.createElement(M,{id:"sids",fieldlabel:"Station IDs",value:this.state.sids,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(I,{sdate:this.state.sdate,edate:this.state.edate,date:this.state.date,updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"elems",fieldlabel:"Elements",value:this.state.elems,options:{style:{width:"90%"},multiline:!0,placeholder:"Enter directly or build using Element setup"},updateHelpFor:this.updateHelpFor,updateParam:this.updateElems}),this.state.elems.includes("{")&&i.a.createElement(L.a,{size:"small",variant:"outlined",style:{marginTop:"0.5em",backgroundColor:"lightcyan"},onMouseDown:this.clearElements},"Clear elements"),i.a.createElement(X,{input_params:this.props.input_params,wstype:"StnData"})),i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Optional element setup"),i.a.createElement(M,{id:"name",fieldlabel:"Name",value:this.state.name,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.name.includes("dd")&&i.a.createElement(M,{id:"base",fieldlabel:"Base",value:this.state.base,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"interval",fieldlabel:"Interval",value:this.state.interval,options:{disabled:this.state.haveInterval},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"duration",fieldlabel:"Duration",value:this.state.duration,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),"std"===this.state.duration&&i.a.createElement(M,{id:"season_start",fieldlabel:"Season start",value:this.state.season_start,options:{required:!0},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),!e&&i.a.createElement(M,{id:"add",fieldlabel:"Add",value:this.state.add,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),e&&i.a.createElement(M,{id:"reduce",fieldlabel:"Reduce",value:this.state.reduce,options:{required:!0},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.reduce.length>0&&e&&i.a.createElement("div",null,i.a.createElement(M,{id:"reduce_add",fieldlabel:"- Reduce Add",value:this.state.reduce_add,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild})),this.state.reduce.length>0&&e&&i.a.createElement(M,{id:"reduce_n",fieldlabel:"- Reduce Number",value:this.state.reduce_n,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.reduce.includes("run")&&e&&i.a.createElement(M,{id:"reduce_run_maxmissing",fieldlabel:"- Run max missing",value:this.state.reduce_run_maxmissing,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),e&&i.a.createElement(M,{id:"maxmissing",fieldlabel:"Max missing",value:this.state.maxmissing,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"smry",fieldlabel:"Summary",value:this.state.smry,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.smry.length>0&&i.a.createElement("div",null,i.a.createElement(M,{id:"smry_add",fieldlabel:"- Smry Add",value:this.state.smry_add,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild})),this.state.smry.length>0&&i.a.createElement(M,{id:"smry_n",fieldlabel:"- Smry Number",value:this.state.smry_n,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.smry.length>0&&this.state.smry.includes("run")&&i.a.createElement(M,{id:"smry_run_maxmissing",fieldlabel:"- Smry Max missing",value:this.state.smry_run_maxmissing,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.smry.length>0&&i.a.createElement(M,{id:"smry_only",fieldlabel:"Summary only",value:this.state.smry_only,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"normal",fieldlabel:"Normal",value:this.state.normal,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),"yly"!==this.state.interval&&i.a.createElement(M,{id:"groupby",fieldlabel:"Group by",value:this.state.groupby,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"prec",fieldlabel:"Precision",value:this.state.prec,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.name.length>0&&i.a.createElement(L.a,{size:"small",variant:"outlined",style:{marginTop:"0.5em",backgroundColor:"lightcyan"},onMouseDown:this.addElement},"Add element"),this.state.name.length>0&&this.state.elems.includes("{")&&i.a.createElement(L.a,{size:"small",variant:"outlined",style:{marginTop:"0.5em",marginLeft:"0.5em",backgroundColor:"lightcyan"},onMouseDown:this.replaceElements},"Replace elements")),i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Optional input"),i.a.createElement(M,{id:"meta",fieldlabel:"Meta options",value:this.state.meta,options:{style:{width:"95%"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"network",fieldlabel:"Network",value:this.state.network,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"output",fieldlabel:"Output type",value:this.state.output,options:{disabled:!(!this.state.meta.length||"json"!==this.state.output)},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}))))}}]),t}(s.Component),J=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).addElement=function(){var e=JSON.stringify(T(a.elementKays,a.state));a.setState({elems:e,haveInterval:!0}),a.props.updateInputParams({elems:e})},a.clearElements=function(){a.setState({elems:"",haveInterval:!1}),a.props.updateInputParams({elems:""})},a.replaceElements=function(){a.setState({elems:""},a.addElement)},a.updateHelpFor=function(e){"sid"===e?e="hrly_sid":"elems"===e&&(e="hrly_elems"),a.props.updateAppState({helpFor:e})},a.updateParam=function(e){a.setState(e),a.props.updateInputParams(e)},a.updateElems=function(e){0===e.elems.length&&a.setState({haveInterval:!1}),a.updateParam(e)},a.updateElemBuild=function(e){a.setState(e)},a.shouldComponentUpdate=function(e,t){return a.state!==t||a.props!==e&&a.datafields.some(function(t){return e.input_params.hasOwnProperty(t)&&a.state[t]!==e.input_params[t]||!e.input_params.hasOwnProperty(t)&&""!==a.state[t]})},a.state={sid:"",sdate:"",edate:"",date:"",elems:"",vX:"",vN:"",prec:"",meta:""},a.datafields=["sid","sdate","edate","date","elems","meta"],a.elementKays=["vX","vN","prec"],a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.input_params!==e.input_params&&this.datafields.forEach(function(e){t.props.input_params.hasOwnProperty(e)&&t.state[e]!==t.props.input_params[e]?"elems"===e&&"object"===typeof t.props.input_params.elems?t.setState(Object(x.a)({},e,JSON.stringify(t.props.input_params[e]))):t.setState(Object(x.a)({},e,t.props.input_params[e])):t.props.input_params.hasOwnProperty(e)||""===t.state[e]||t.setState(Object(x.a)({},e,""))})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(E.a,{container:!0},i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Required input"),i.a.createElement(M,{id:"sid",fieldlabel:"Station ID",value:this.state.sid,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(I,{sdate:this.state.sdate,edate:this.state.edate,date:this.state.date,updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"elems",fieldlabel:"Elements",value:this.state.elems,options:{style:{width:"90%"},multiline:!0,placeholder:"Enter directly or build using Element setup"},updateHelpFor:this.updateHelpFor,updateParam:this.updateElems}),this.state.elems.includes("{")&&i.a.createElement(L.a,{size:"small",variant:"outlined",style:{marginTop:"0.5em",backgroundColor:"lightcyan"},onMouseDown:this.clearElements},"Clear elements")),i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Optional element setup"),i.a.createElement(M,{id:"vX",fieldlabel:"Var major",value:this.state.vX,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"vN",fieldlabel:"Var minor",value:this.state.vN,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"prec",fieldlabel:"Precision",value:this.state.prec,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.vX.length>0&&i.a.createElement(L.a,{size:"small",variant:"outlined",style:{marginTop:"0.5em",backgroundColor:"lightcyan"},onMouseDown:this.addElement},"Add element"),this.state.vX.length>0&&this.state.elems.includes("{")&&i.a.createElement(L.a,{size:"small",variant:"outlined",style:{marginTop:"0.5em",marginLeft:"0.5em",backgroundColor:"lightcyan"},onMouseDown:this.replaceElements},"Replace elements")),i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Optional input"),i.a.createElement(M,{id:"meta",fieldlabel:"Meta options",value:this.state.meta,options:{style:{width:"95%"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}))))}}]),t}(s.Component),q=a(110),z=a.n(q),V=a(111),K=a.n(V),Y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).addElement=function(){var e=JSON.stringify(T(a.elementKeys,a.state));a.setState({elems:e,haveInterval:!0}),a.props.updateInputParams({elems:e})},a.clearElements=function(){a.setState({elems:"",haveInterval:!1}),a.props.updateInputParams({elems:""})},a.replaceElements=function(){a.setState({elems:""},a.addElement)},a.updateHelpFor=function(e){"meta"===e?e="grid_meta":"output"===e?e="grid_output":"reduce"===e?e="grid_reduce":"name"!==e&&"elems"!==e||(e="grid_elems"),a.props.updateAppState({helpFor:e})},a.updateParam=function(e){a.setState(e),a.props.updateInputParams(e)},a.updateElems=function(e){0===e.elems.length&&a.setState({haveInterval:!1}),a.updateParam(e)},a.updateElemBuild=function(e){a.setState(e)},a.updateImage=function(e){a.setState(e,function(){var e=G(a.imagefields,a.state);a.updateParam({image:e})})},a.updateOutput=function(e){if("image"===e.output){var t=G(a.imagefields,a.state);a.updateParam({output:"image",image:t}),a.setState({mapcontrols:!0})}else a.updateParam(e)},a.handleMapControlClick=function(e){if("image"!==a.state.output||e.target.checked){var t=e.target.checked?G(a.imagefields,a.state):"";a.updateParam({image:t}),a.setState({mapcontrols:e.target.checked})}},a.shouldComponentUpdate=function(e,t){return a.state!==t||a.props!==e&&a.datafields.some(function(t){return e.input_params.hasOwnProperty(t)&&a.state[t]!==e.input_params[t]||!e.input_params.hasOwnProperty(t)&&""!==a.state[t]})},a.state={loc:"",state:"",bbox:"",sdate:"",edate:"",date:"",grid:"",elems:"",name:"",base:"",interval:"",duration:"",season_start:"",reduce:"",maxmissing:"",smry:"",smry_only:"",area_reduce:"",prec:"",units:"",meta:"",output:"",image:"",info_only:"",proj:"",overlays:"",interp:"",cmap:"",width:"",height:"",levels:"",mapcontrols:"",haveInterval:!1},a.datafields=["loc","state","bbox","sdate","edate","date","grid","elems","meta","output","image"],a.imagefields=["info_only","proj","overlays","interp","cmap","width","height","levels"],a.elementKeys=Object.keys(a.state).filter(function(e){return!["mapcontrols","haveInterval"].concat(Object(B.a)(a.datafields),Object(B.a)(a.imagefields)).includes(e)}),a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.input_params!==e.input_params&&this.datafields.forEach(function(e){t.props.input_params.hasOwnProperty(e)&&t.state[e]!==t.props.input_params[e]?"elems"===e&&"object"===typeof t.props.input_params.elems?t.setState(Object(x.a)({},e,JSON.stringify(t.props.input_params[e]))):t.setState(Object(x.a)({},e,t.props.input_params[e])):t.props.input_params.hasOwnProperty(e)||""===t.state[e]||t.setState(Object(x.a)({},e,""))})}},{key:"render",value:function(){var e=this.props.classes,t=3===this.state.duration.length&&"dly"!==this.state.duration||this.state.duration.length>0&&!isNaN(Number(this.state.duration))&&("1"!==this.state.duration||"dly"!==this.state.interval&&!(this.state.interval.includes("[")&&7===this.state.interval.length));return i.a.createElement("div",null,i.a.createElement(E.a,{container:!0},i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Required input"),i.a.createElement(P.a,{variant:"caption"},"Enter information for one of the grid selection types:"),0===this.state.state.length&&0===this.state.bbox.length&&i.a.createElement(M,{id:"loc",fieldlabel:"Point location",value:this.state.loc,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),0===this.state.loc.length&&0===this.state.bbox.length&&i.a.createElement(M,{id:"state",fieldlabel:"State",value:this.state.state,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),0===this.state.loc.length&&0===this.state.state.length&&i.a.createElement(M,{id:"bbox",fieldlabel:"Bounding box",value:this.state.bbox,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(I,{sdate:this.state.sdate,edate:this.state.edate,date:this.state.date,updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"grid",fieldlabel:"Grid id",value:this.state.grid,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"elems",fieldlabel:"Elements",value:this.state.elems,options:{style:{width:"90%"},multiline:!0,placeholder:"Enter directly or build using Element setup"},updateHelpFor:this.updateHelpFor,updateParam:this.updateElems}),this.state.elems.includes("{")&&i.a.createElement(L.a,{size:"small",variant:"outlined",className:e.button,onMouseDown:this.clearElements},"Clear elements"),i.a.createElement(X,{input_params:this.props.input_params,wstype:"GridData"})),i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Optional element setup"),i.a.createElement(M,{id:"name",fieldlabel:"Name",value:this.state.name,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.name.includes("dd")&&i.a.createElement(M,{id:"base",fieldlabel:"Base",value:this.state.base,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"interval",fieldlabel:"Interval",value:this.state.interval,options:{disabled:this.state.haveInterval},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"duration",fieldlabel:"Duration",value:this.state.duration,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),"std"===this.state.duration&&i.a.createElement(M,{id:"season_start",fieldlabel:"Season start",value:this.state.season_start,options:{required:!0},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),t&&i.a.createElement(M,{id:"reduce",fieldlabel:"Reduce",value:this.state.reduce,options:{required:!0},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),t&&i.a.createElement(M,{id:"maxmissing",fieldlabel:"Max missing",value:this.state.maxmissing,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"smry",fieldlabel:"Summary",value:this.state.smry,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.smry.length>0&&i.a.createElement(M,{id:"smry_only",fieldlabel:"Summary only",value:this.state.smry_only,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"units",fieldlabel:"Units",value:this.state.units,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),0===this.state.loc.length&&i.a.createElement(M,{id:"area_reduce",fieldlabel:"Area reduction",value:this.state.area_reduce,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.name.length>0&&i.a.createElement(L.a,{size:"small",variant:"outlined",className:e.button,onMouseDown:this.addElement},"Add element"),this.state.name.length>0&&this.state.elems.includes("{")&&i.a.createElement(L.a,{size:"small",variant:"outlined",style:{marginTop:"0.5em",marginLeft:"0.5em",backgroundColor:"lightcyan"},onMouseDown:this.replaceElements},"Replace elements")),i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Optional input"),i.a.createElement(M,{id:"meta",fieldlabel:"Meta options",value:this.state.meta,options:{style:{width:"95%"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"output",fieldlabel:"Output type",value:this.state.output,options:{disabled:!(!this.state.meta.length||"json"!==this.state.output)},updateHelpFor:this.updateHelpFor,updateParam:this.updateOutput}),i.a.createElement(z.a,{control:i.a.createElement(K.a,{value:this.state.mapcontrols,onChange:this.handleMapControlClick,checked:this.state.mapcontrols,classes:{switchBase:e.switchBase,checked:e.checked,bar:e.bar}}),label:"Map settings"}),this.state.mapcontrols&&i.a.createElement("div",null,"image"!==this.state.output&&i.a.createElement(M,{id:"info_only",fieldlabel:"Info only",value:this.state.info_only,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateImage}),i.a.createElement(M,{id:"proj",fieldlabel:"Proj",value:this.state.proj,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateImage}),i.a.createElement(M,{id:"overlays",fieldlabel:"Overlays",value:this.state.overlays,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateImage}),i.a.createElement(M,{id:"interp",fieldlabel:"Interp",value:this.state.interp,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateImage}),i.a.createElement(M,{id:"cmap",fieldlabel:"Cmap",value:this.state.cmap,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateImage}),0===this.state.height.length&&i.a.createElement(M,{id:"width",fieldlabel:"Width",value:this.state.width,options:{style:{marginLeft:"2em"},required:this.state.mapcontrols},updateHelpFor:this.updateHelpFor,updateParam:this.updateImage}),0===this.state.width.length&&i.a.createElement(M,{id:"height",fieldlabel:"Height",value:this.state.height,options:{style:{marginLeft:"2em"},required:this.state.mapcontrols},updateHelpFor:this.updateHelpFor,updateParam:this.updateImage}),i.a.createElement(M,{id:"levels",fieldlabel:"Levels",value:this.state.levels,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateImage})))))}}]),t}(s.Component),Q=Object(l.withStyles)({switchBase:{color:"lightcyan","&$checked":{color:"blue","& + $bar":{backgroundColor:"blue"}}},checked:{},bar:{},button:{marginTop:"0.5em",backgroundColor:"lightcyan"}})(Y),$=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).addElement=function(){var e=JSON.stringify(T(a.elementKeys,a.state));a.setState({elems:e,haveInterval:!0}),a.props.updateInputParams({elems:e})},a.nestElement=function(){var e=T(a.elementKeys,a.state);a.setState({elem:e[0],elem_string:JSON.stringify(e[0]),name:"",base:"",interval:"",duration:"",season_start:"",reduce:"",maxmissing:"",elem_sdate:"",elem_edate:""})},a.clearElements=function(){a.setState({elems:"",haveInterval:!1}),a.props.updateInputParams({elems:""})},a.replaceElements=function(){a.setState({elems:""},a.addElement)},a.updateHelpFor=function(e){"meta"===e?e="grid_meta":"output"===e?e="grid2_output":"elems"===e?e="grid2_elems":"name"===e?e="grid2_name":"reduce"===e?e="grid2_reduce":"grid"===e?e="grid2":"bbox"===e?e="grid2_bbox":"elem_sdate"!==e&&"elem_edate"!==e||(e="date"),a.props.updateAppState({helpFor:e})},a.updateParam=function(e){a.setState(e),a.props.updateInputParams(e)},a.updateElems=function(e){0===e.elems.length&&a.setState({haveInterval:!1}),a.updateParam(e)},a.updateElemBuild=function(e){a.setState(e)},a.updateImage=function(e){a.setState(e,function(){var e=G(a.imagefields,a.state);a.updateParam({image:e})})},a.updateOutput=function(e){if("image"===e.output){var t=G(a.imagefields,a.state);a.updateParam({output:"image",image:t}),a.setState({mapcontrols:!0})}else a.updateParam(e)},a.handleMapControlClick=function(e){if("image"!==a.state.output||e.target.checked){var t=e.target.checked?G(a.imagefields,a.state):"";a.updateParam({image:t}),a.setState({mapcontrols:e.target.checked})}},a.shouldComponentUpdate=function(e,t){return a.state!==t||a.props!==e&&a.datafields.some(function(t){return e.input_params.hasOwnProperty(t)&&a.state[t]!==e.input_params[t]||!e.input_params.hasOwnProperty(t)&&""!==a.state[t]})},a.state={loc:"",state:"",county:"",bbox:"",sdate:"",edate:"",date:"",grid:"",elems:"",elem:"",elem_string:"",name:"",base:"",interval:"",duration:"",season_start:"",reduce:"",maxmissing:"",area_reduce:"",elem_sdate:"",elem_edate:"",meta:"",output:"",image:"",info_only:"",proj:"",overlays:"",interp:"",cmap:"",width:"",height:"",levels:"",mapcontrols:"",haveInterval:!1,includeImageControls:!1},a.datafields=["loc","state","bbox","sdate","edate","date","grid","elems","meta","output","image"],a.imagefields=["info_only","proj","overlays","interp","cmap","width","height","levels"],a.elementKeys=["elem","name","base","interval","duration","season_start","reduce","maxmissing","area_reduce","elem_sdate","elem_edate"],a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.input_params!==e.input_params&&this.datafields.forEach(function(e){t.props.input_params.hasOwnProperty(e)&&t.state[e]!==t.props.input_params[e]?"elems"===e&&"object"===typeof t.props.input_params.elems?t.setState(Object(x.a)({},e,JSON.stringify(t.props.input_params[e]))):t.setState(Object(x.a)({},e,t.props.input_params[e])):t.props.input_params.hasOwnProperty(e)||""===t.state[e]||t.setState(Object(x.a)({},e,""))})}},{key:"render",value:function(){var e=3===this.state.duration.length&&"dly"!==this.state.duration||this.state.duration.length>0&&!isNaN(Number(this.state.duration))&&("1"!==this.state.duration||"dly"!==this.state.interval&&!(this.state.interval.includes("[")&&7===this.state.interval.length));return i.a.createElement("div",null,i.a.createElement(E.a,{container:!0},i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Required input"),i.a.createElement(P.a,{variant:"caption"},"Enter information for one of the grid selection types:"),0===this.state.state.length&&0===this.state.county.length&&0===this.state.bbox.length&&i.a.createElement(M,{id:"loc",fieldlabel:"Point location",value:this.state.loc,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),0===this.state.loc.length&&0===this.state.county.length&&0===this.state.bbox.length&&i.a.createElement(M,{id:"state",fieldlabel:"State",value:this.state.state,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),0===this.state.loc.length&&0===this.state.state.length&&0===this.state.bbox.length&&i.a.createElement(M,{id:"county",fieldlabel:"County",value:this.state.county,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),0===this.state.loc.length&&0===this.state.county.length&&0===this.state.state.length&&i.a.createElement(M,{id:"bbox",fieldlabel:"Bounding box",value:this.state.bbox,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(I,{sdate:this.state.sdate,edate:this.state.edate,date:this.state.date,updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"grid",fieldlabel:"Grid id",value:this.state.grid,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"elems",fieldlabel:"Elements",value:this.state.elems,options:{style:{width:"90%"},multiline:!0,placeholder:"Build using Element setup"},updateHelpFor:this.updateHelpFor,updateParam:this.updateElems}),this.state.elems.includes("{")&&i.a.createElement(L.a,{size:"small",variant:"outlined",style:{marginTop:"0.5em",backgroundColor:"lightcyan"},onMouseDown:this.clearElements},"Clear elements")),i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Element setup"),0===this.state.elem_string.length&&i.a.createElement(M,{id:"name",fieldlabel:"Name",value:this.state.name,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.elem_string.length>0&&i.a.createElement(M,{id:"elem",fieldlabel:"Elem",value:this.state.elem_string,options:{style:{width:"90%"},multiline:!0},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),this.state.name.includes("dd")&&i.a.createElement(M,{id:"base",fieldlabel:"Base",value:this.state.base,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"interval",fieldlabel:"Interval",value:this.state.interval,options:{disabled:this.state.haveInterval},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"duration",fieldlabel:"Duration",value:this.state.duration,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),"std"===this.state.duration&&i.a.createElement(M,{id:"season_start",fieldlabel:"Season start",value:this.state.season_start,options:{required:!0},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),e&&i.a.createElement(M,{id:"reduce",fieldlabel:"Reduce",value:this.state.reduce,options:{required:!0},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),e&&i.a.createElement(M,{id:"maxmissing",fieldlabel:"Max missing",value:this.state.maxmissing,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"elem_sdate",fieldlabel:"Start date",value:this.state.elem_sdate,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),i.a.createElement(M,{id:"elem_edate",fieldlabel:"End date",value:this.state.elem_edate,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),0===this.state.loc.length&&0===this.state.county.length&&i.a.createElement(M,{id:"area_reduce",fieldlabel:"Area reduction",value:this.state.area_reduce,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateElemBuild}),(this.state.name.length>0||this.state.elem_string.length>0)&&i.a.createElement("div",null,i.a.createElement(L.a,{size:"small",variant:"outlined",style:{marginTop:"0.5em",backgroundColor:"lightcyan"},onMouseDown:this.nestElement},"Nest"),i.a.createElement(L.a,{size:"small",variant:"outlined",style:{marginTop:"0.5em",marginLeft:"1em",backgroundColor:"lightcyan"},onMouseDown:this.addElement},"Add")),this.state.name.length>0&&this.state.elems.includes("{")&&i.a.createElement(L.a,{size:"small",variant:"outlined",style:{marginTop:"0.5em",backgroundColor:"lightcyan"},onMouseDown:this.replaceElements},"Replace elements")),i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Optional input"),i.a.createElement(M,{id:"meta",fieldlabel:"Meta options",value:this.state.meta,options:{style:{width:"95%"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),i.a.createElement(M,{id:"output",fieldlabel:"Output type",value:this.state.output,options:{disabled:!(!this.state.meta.length||"json"!==this.state.output)},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),this.state.includeImageControls&&i.a.createElement("div",null,i.a.createElement(z.a,{control:i.a.createElement(K.a,{value:this.state.mapcontrols,onChange:this.handleMapControlClick,checked:this.state.mapcontrols,color:"primary"}),label:"Map settings"}),this.state.mapcontrols&&i.a.createElement("div",null,"image"!==this.state.output&&i.a.createElement(M,{id:"info_only",fieldlabel:"Info only",value:this.state.info_only,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateImage}),i.a.createElement(M,{id:"proj",fieldlabel:"Proj",value:this.state.proj,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateImage}),i.a.createElement(M,{id:"overlays",fieldlabel:"Overlays",value:this.state.overlays,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateImage}),i.a.createElement(M,{id:"interp",fieldlabel:"Interp",value:this.state.interp,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateImage}),i.a.createElement(M,{id:"cmap",fieldlabel:"Cmap",value:this.state.cmap,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateImage}),0===this.state.height.length&&i.a.createElement(M,{id:"width",fieldlabel:"Width",value:this.state.width,options:{style:{marginLeft:"2em"},required:this.state.mapcontrols},updateHelpFor:this.updateHelpFor,updateParam:this.updateImage}),0===this.state.width.length&&i.a.createElement(M,{id:"height",fieldlabel:"Height",value:this.state.height,options:{style:{marginLeft:"2em"},required:this.state.mapcontrols},updateHelpFor:this.updateHelpFor,updateParam:this.updateImage}),i.a.createElement(M,{id:"levels",fieldlabel:"Levels",value:this.state.levels,options:{style:{marginLeft:"2em"}},updateHelpFor:this.updateHelpFor,updateParam:this.updateImage}))))))}}]),t}(s.Component),Z=a(59),ee=a.n(Z),te=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).updateHelpFor=function(e){"id"===e?e="general_id":"meta"===e&&(e="general_meta"),a.props.updateAppState({helpFor:e})},a.updateArea=function(e){a.setState({generalArea:e.target.value}),a.props.updateAppState({generalArea:e.target.value})},a.updateParam=function(e){a.setState(e),a.props.updateInputParams(e)},a.componentDidMount=function(){a.updateArea({target:{value:"state"}})},a.shouldComponentUpdate=function(e,t){return a.state!==t||a.props!==e&&a.paramfields.some(function(t){return e.input_params.hasOwnProperty(t)&&a.state[t]!==e.input_params[t]||!e.input_params.hasOwnProperty(t)&&""!==a.state[t]})},a.state={state:"",bbox:"",id:"",meta:"",generalArea:""},a.paramfields=Object.keys(a.state).filter(function(e){return!["generalArea"].includes(e)}),a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.input_params!==e.input_params&&this.paramfields.forEach(function(e){t.props.input_params.hasOwnProperty(e)&&t.state[e]!==t.props.input_params[e]?t.setState(Object(x.a)({},e,t.props.input_params[e])):t.props.input_params.hasOwnProperty(e)||""===t.state[e]||t.setState(Object(x.a)({},e,""))})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(E.a,{container:!0},i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Required input"),i.a.createElement(D.a,{id:"general-area",select:!0,label:"Area",value:this.state.generalArea,onChange:this.updateArea,SelectProps:{style:{fontSize:"90%"}},margin:"dense",variant:"outlined"},i.a.createElement(ee.a,{style:{fontSize:"90%"},value:"state"},"state"),i.a.createElement(ee.a,{style:{fontSize:"90%"},value:"county"},"county"),i.a.createElement(ee.a,{style:{fontSize:"90%"},value:"climdiv"},"climdiv"),i.a.createElement(ee.a,{style:{fontSize:"90%"},value:"cwa"},"cwa"),i.a.createElement(ee.a,{style:{fontSize:"90%"},value:"basin"},"basin")),i.a.createElement(P.a,{variant:"caption"},"Enter one of the following:"),0===this.state.id.length&&0===this.state.bbox.length&&i.a.createElement(M,{id:"state",fieldlabel:"State",value:this.state.state,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),0===this.state.state.length&&0===this.state.bbox.length&&i.a.createElement(M,{id:"id",fieldlabel:"ID",value:this.state.id,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}),0===this.state.state.length&&0===this.state.id.length&&i.a.createElement(M,{id:"bbox",fieldlabel:"Bounding box",value:this.state.bbox,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam})),i.a.createElement(E.a,{item:!0,xs:4},i.a.createElement(P.a,{variant:"h6"},"Optional input"),i.a.createElement(M,{id:"meta",fieldlabel:"Meta options",value:this.state.meta,options:{},updateHelpFor:this.updateHelpFor,updateParam:this.updateParam}))))}}]),t}(s.Component),ae=["JSON","Basic format","Full format"],se=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){var t=e.currentTarget.value;a.setState({selectedButton:t}),a.props.handleFormat(t)},a.state={selectedButton:"JSON"},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({selectedButton:this.props.selectedButton})}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.setState({selectedButton:this.props.selectedButton})}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(v.a,{elevation:0,classes:{root:e.paperRoot}},i.a.createElement(E.a,{container:!0,spacing:16},i.a.createElement(E.a,{item:!0},i.a.createElement(P.a,{variant:"h6"},"Results:")),i.a.createElement(E.a,{item:!0},this.props.showButtons&&i.a.createElement(C.a,{value:this.state.selectedButton,exclusive:!0,onChange:this.handleChange},ae.map(function(t){return i.a.createElement(w.a,{key:t,value:t,classes:{root:e.root,selected:e.selected}},t)})))))}}]),t}(s.Component),ie=Object(l.withStyles)({root:{background:"white",color:"darkblue",textTransform:"none",borderRight:"1pt solid lightgray"},selected:{background:"blue !important",color:"white !important"},paperRoot:{margin:"1em 0"}})(se),ne=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).handleParamsChange=function(e){a.setState({input_params_string:e.target.value,results:""}),a.props.changedInput(e.target.value)},a.handleSubmit=function(){a.setState({results:"Submitting request ...",isCsv:"csv"===a.props.input_params.output,dataimage:""});var e=a.props.acisServer+a.props.generalArea;"image"!==a.props.input_params.output?fetch(e,{method:"POST",body:a.state.input_params_string,headers:{"Content-Type":"application/json"}}).then(function(e){return e.ok&&!a.state.isCsv?e.json():e.text()}).then(function(e){return a.setState({results:"object"===typeof e?JSON.stringify(e,null,0):e,results_json:e,format:"string"===typeof e?"pre":"normal",selectedButton:"object"===typeof e?"JSON":""})}).catch(function(e){return a.setState({results:"Error: "+e.message})}):a.setState({results:"image",results_json:"",format:"normal",dataimage:e+"?params="+a.state.input_params_string,selectedButton:""})},a.basicFormat=function(e){var t="",a="";return Object.keys(e).forEach(function(s){"data"===s&&e[s].includes("image/png;base64")?a=e[s]:Array.isArray(e[s])?(t+=s+":\n",e[s].forEach(function(e){t+=" "+JSON.stringify(e)+"\n"})):(t+=s+":\n",t+=" "+JSON.stringify(e[s])+"\n")}),{results_string:t,dataimage:a}},a.handleFormat=function(e){if(a.setState({selectedButton:e}),"Basic format"===e){var t=a.basicFormat(a.state.results_json);a.setState({results:t.results_string,format:"pre-wrap",dataimage:t.dataimage.length>0?t.dataimage:""})}else if("JSON"===e)a.setState({results:JSON.stringify(a.state.results_json,null,0),format:"normal",dataimage:""});else if("Full format"===e){var s=a.state.results_json.hasOwnProperty("data")&&a.state.results_json.data.includes("image/png;base64");a.setState({results:JSON.stringify(a.state.results_json,null,2),format:"pre-wrap",dataimage:s?a.state.results_json.data:""})}else console.log("Error: unknown format button")},a.state={input_params_string:"",results:"",results_json:{},format:"normal",isCsv:!1,selectedButton:"JSON",dataimage:""},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){Object.keys(this.props.input_params).length>0&&(this.props.input_params.hasOwnProperty("elems")&&this.props.input_params.elems.includes("{")&&(this.props.input_params.elems=JSON.parse(this.props.input_params.elems)),this.setState({input_params_string:JSON.stringify(this.props.input_params)}))}},{key:"componentDidUpdate",value:function(e){this.props.input_params!==e.input_params&&(this.props.input_params.hasOwnProperty("elems")&&this.props.input_params.elems.includes("{")&&(this.props.input_params.elems=JSON.parse(this.props.input_params.elems)),this.props.input_params.hasOwnProperty("bbox")&&"[]"===this.props.input_params.bbox&&(this.props.input_params.bbox=[]),this.setState({input_params_string:JSON.stringify(this.props.input_params)}),0===Object.keys(this.props.input_params).length&&this.setState({results:""}))}},{key:"render",value:function(){return i.a.createElement(v.a,{elevation:0,style:{marginTop:"1em"}},i.a.createElement(P.a,{variant:"h6"},"Parameters (JSON)",this.state.input_params_string.length>2&&i.a.createElement(L.a,{variant:"contained",size:"small",style:{marginLeft:"3em",backgroundColor:"limegreen"},onMouseDown:this.handleSubmit},"Submit")),i.a.createElement(D.a,{id:"params",value:this.state.input_params_string,margin:"dense",variant:"outlined",multiline:!0,fullWidth:!0,inputProps:{style:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"95%"}},onChange:this.handleParamsChange}),this.state.results.length>0&&i.a.createElement("div",null,"image"!==this.state.results&&i.a.createElement(ie,{handleFormat:this.handleFormat,showButtons:!this.state.isCsv,selectedButton:this.state.selectedButton}),i.a.createElement(v.a,{elevation:0,style:{border:"1px solid lightgray",margin:"0",padding:"5px",fontFamily:"Arial, Helvetica, sans-serif",fontSize:"95%"}},this.state.dataimage.length>0&&i.a.createElement("div",null,i.a.createElement("pre",null,this.state.dataimage.includes("http")?"Returned image":"data (as image)"),i.a.createElement("img",{src:this.state.dataimage,alt:"map"})),!this.state.dataimage.includes("http")&&i.a.createElement("pre",{style:{whiteSpace:this.state.format,wordBreak:"break-word"}},this.state.results))))}}]),t}(s.Component),re=a(223),le=a.n(re),oe=a(225),de=a.n(oe),pe=a(113),ue=a.n(pe),me=a(224),ce=a.n(me),he=a(226),ye=a.n(he),ge=a(112),fe=a.n(ge),ve={nohelp:{heads:[],contents:[[]],foots:"No help available for this item"},sids:{heads:["Type","Code ","Description","Example"],contents:[["WBAN","1","5-digit WBAN id","14742"],["COOP","2","6-digit COOP id","304174"],["FAA","3","3-character FAA id","LAX"],["WMO","4","5-digit WMO id","72223"],["ICAO","5","4-character ICAO id","KGRR"],["GHCN","6","11-character GHCN id","USW00003927"],["NWSLI","7","5-character NWSLI","AURN6"],["THRDX","9","6-character ThreadEx id","HSVthr"],["COCORAHS","10","8-character CoCoRaHS id","NYTM0004"],["SCAN","17","SCAN","15"],["TSCAN","19","TSCAN","3001"]],foots:"To avoid ambiguity, station id should be specified by station id and id code (or type) separated by a space (e.g. 'KGRR 5')"},hrly_sid:{heads:["Type","Code ","Description","Example"],contents:[["WBAN","1","5-digit WBAN id","14742"],["COOP","2","6-digit COOP id","304174"],["FAA","3","3-character FAA id","LAX"],["WMO","4","5-digit WMO id","72223"],["ICAO","5","4-character ICAO id","KGRR"],["GHCN","6","11-character GHCN id","USW00003927"],["NWSLI","7","5-character NWSLI","AURN6"],["DEOS","11","Delaware DEOS id","DAGF"],["MIWX","13","Michigan Enviroweather","KZO"],["SCAN","17","SCAN","2011"],["TSCAN","19","TSCAN","3052"],["OARDC","22","Ohio OARDC id","ASHT"],["NEWA","26","NEWA id","GEN"],["CU_LOG","27","Cornell WxNet id","CU_GFR"],["NJWX","28","NJ WxNet id","1101"]],foots:"To avoid ambiguity, station id should be specified by station id and id type (or code) separated by a space (e.g. 'KGRR icao')"},county:{heads:["Description","Examples"],contents:[["One or more county FIPS codes ","09001"]]},climdiv:{heads:["Description","Examples"],contents:[["One or more climate division (2-digits or combined with state) ","10 or NY10"]]},cwa:{heads:["Description","Examples"],contents:[["One or more NWS County Warning Areas","BOI"]]},basin:{heads:["Description","Examples"],contents:[["One or more drainage basins (8-digit HUC) ","01080205"]]},state:{heads:["Description","Examples"],contents:[["One or more 2-letter state postal abbreviations","AK"]]},bbox:{heads:["Description","Examples"],contents:[["Bounding box in decimal degrees (W,S,E,N) ","-90, 40, -88, 41"]]},grid2_bbox:{heads:["Description","Examples"],contents:[["Bounding box in decimal degrees (W,S,E,N) ","-90, 40, -88, 41"]],foots:"An empty bounding box, [], will return the entire grid array"},meta:{heads:["Code","Description"],contents:[["name","Station name *"],["state","2-letter state abbrev *"],["sids","Array of station ids/types *"],["sid_dates","Date range for each sid"],["ll","Longitude and latitude *"],["elev","Elevation *"],["uid","ACIS id *"],["county","5-digit FIPS id"],["climdiv","4-character climate division id"],["valid_daterange","Valid date range (by element) - must specify Elements"],["tzo","Time zone offset from GMT"],["network","Station networks"]],foots:"Values with an asterisk (*) indicate defaults used if 'meta' is not explicityly specified."},elems:{heads:["Abbreviation","Var Major","Description"],contents:[["maxt","1","Maximum temperature (&deg;F)"],["mint","2","Minimum temperature (&deg;F)"],["avgt","43","Average temperature (&deg;F)"],["obst","3","Obs time temperature (&deg;F)"],["pcpn","4","Precipitation (inches)"],["snow","10","Snowfall (inches)"],["snwd","11","Snow Depth (inches)"],["(not available)","7","Pan evaporation (inches)"],["cdd","","Cooling degree days (default base 65)"],["hdd","45","Degree days below base (default base 65)"],["gdd","44","Degree days above base (default base 50)"]]},vX:{heads:["Variable","vX","Networks found"],contents:[["Precipitation","5","newa, icao, cu_log, njwx, miwx, oardc, scan, tscan"],["Temperature","23","newa, icao, njwx, oardc, deos, scan, tscan"],["Average temperature","126","newa, cu_log, njwx, miwx"],["Max temperature","124","newa, cu_log, njwx, scan, tscan"],["Min temperature","125","newa, cu_log, njwx, scan, tscan"],["Relative humidity","24","newa, icao, njwx, oardc, cu_log, deos, scan, tscan"],["Average relative humidity","143","newa, njwx, miwx"],["Max relative humidity","141","newa, njwx"],["Min relative humidity","143","newa, njwx"],["Dewpoint temperature","22","icao, newa, deos"],["Average dewpoint temperature","140","njwx"],["Max dewpoint temperature","138","njwx"],["Min dewpoint temperature","139","njwx"],["Wet-bulb temperature","25","icao"],["Wind speed","28","icao, njwx, oardc, deos"],["Average wind speed","128","newa, njwx, cu_log, scan, tscan"],["Resultant wind speed","129","cu_log"],["Max wind speed","42","icao, cu_log, njwx, scan, tscan"],["Wind gust","85","icao"],["Wind direction","27","icao, njwx, oardc, deos"],["Average wind direction","130","newa, cu_log, scan, tscan"],["Peak wind direction","41","njwx, icao"],["Total sky cover","33","icao"],["Solar radiation total","132","newa, cu_log, miwx, oardc, deos"],["Solar radiation rate","119","njwx"],["Average solar radiation rate","149","njwx, scan, tscan"],["Max solar radiation rate","147","njwx"],["Min solar radiation rate","148","njwx"],["Leaf wetness","118","newa, cu_log, njwx, miwx, oardc, deos"],["Soil temperature","120","newa, oardc, deos, scan, tscan"],["Average soil temperature","123","cu_log"],["Max soil temperature","121","newa, deos, oardc, cu_log"],["Min soil temperature","122","newa, deos, oardc, cu_log"],["Soil moisture","104","deos, scan, tscan"],["Soil tension","65","newa"],["Station pressure","18","icao, newa, njwx, deos"],["Average station pressure","146","newa, njwx"],["Max station pressure","144","newa, njwx"],["Min station pressure","145","newa, njwx"],["Sea level pressure","19","icao"],["Altimeter setting","17","icao"],["Visibility","26","icao"],["Ceiling height","35","icao"],["3-hour precipitation","36","icao"],["6-hour precipitation","37","icao"],["6-hour max temperature","39","icao"],["6-hour min temperature","40","icao"]]},vN:{contents:[["Some elements require a var minor (vN). A list of vN can be found at https://github.com/rcc-acis/metadata/blob/master/data/global_variable_maj_min.load."]]},hrly_elems:{contents:[["Elements are specified by var major (vX) with an optional var minor (vN)."]]},base:{heads:[],contents:[["Degree day base temperature in degrees F."]]},output:{heads:["Code","Description"],contents:[["json","JavaScript Object Notation (default)"],["csv","Comma-Separated Values (unavailable for some requests, such as those including 'add', 'smry' or 'meta' and MultiStnData requests for a day range"]]},grid_output:{heads:["Code","Description"],contents:[["json","JavaScript Object Notation (default)"],["image","png image only"]]},grid2_output:{heads:["Code","Description"],contents:[["json","JavaScript Object Notation (default)"],["png","png image (display not implemented in this tool)"],["geotiff","geotiff output (display not implemented in this tool)"]]},date:{heads:["Options","Example"],contents:[["yyyy-mm-dd","2010-01-31"],["yyyymmdd","20100131"],["por (period of record)","por"]],foots:"Can also use only yyyy or yyyymm when appropriate."},reduce_add:{heads:["Code","Description"],contents:[["mcnt","Count of missing values in the reduction period"],["date","Date of occurrence (for max, min, run)"],["value","Value on date of occurrence (for first and last)"],["rmcnt","Count of missing values in the run period (for run only)"]]},smry_add:{heads:["Code","Description"],contents:[["mcnt","Count of missing values in the reduction period"],["date","Date of occurrence (for max, min, run)"],["value","Value on date of occurrence (for first and last)"],["rmcnt","Count of missing values in the run period (for run only)"]]},smry_only:{heads:["Code","Description"],contents:[["1","Return only the summary value (no intermediate results). If used, must be specified for each element."]]},reduce_n:{heads:["Value","Description"],contents:[["integer","Used with run reduction to specify max number of results returned per interval."]]},smry_n:{heads:["Value","Description"],contents:[["integer","Count of number of values to be returned. Maximum value is 100. Can only be used with smry reduce of 'max', 'min' or 'run'."]]},reduce_run_maxmissing:{heads:["Value","Description"],contents:[["integer","Used with run reduction to specify max number of missing days to allow before terminating run."]]},smry_run_maxmissing:{heads:["Value","Description"],contents:[["integer","Used with run reduction to specify max number of missing days to allow before terminating run."]]},add:{heads:["Code","Description"],contents:[["f","Flags"],["t","Time of observation"],["i","Station ID associated with data"],["v","Var minor associated with data"],["n","Network associated with data"],["s","Source flag (for GHCN-Daily data)"]],foots:"Enter one or more codes separated by commas."},normal:{heads:["Code","Description"],contents:[["1","Return default normals (1991-2020)"],["departure","Return default departure from normal (1991-2020)"],["91","Return 1991-2020 normals"],["departure91","Return departure from 1991-2020 normal"],["81","Return 1981-2010 normals"],["departure81","Return departure from 1981-2010 normal"]],foots:"1991-2020 added as default effective 2021-05-04."},interval:{heads:["Code","Description"],contents:[["dly","results consist of a daily value for each day; shortcut for [0,0,1]."],["mly","results consist of a monthly value for each calendar month; shortcut for [0,1]"],["yly","results consist of an annual value for each calendar year; shortcut for [1]"],["array","An array containing a single positive integer and zeros. The array can have a length of either 1, 2 or 3, with the length indicating the temporal precision of the returned values. A length of 1 indicates annual precision, 2 monthly precision and 3 daily precision. The position of non-zero integers within the array signifies the frequency of the values returned. The strings dly, mly and yly are just shortcuts for commonly used intervals. Using an array facilitates a number of more complex requests. The following examples demonstrate some of these capabilities:"],["subhead:Example","subhead:Explanation"],["[1,0,0]","Return a daily value once per year. For instance, daily rainfall for June 20  in each of a series of years."],["[0,1,0]","Return a daily value once per month. For instance, max temperature on the 15th of each month for a series of years."],["[0,0,7]","Return a daily value every seven days."],["[0,3,0]","Return a daily value every third month."],["[0,3]","Return a monthly value every third month."],["[30]","Return an annual value every thirty years."]],foots:"Note: 'interval' must be the same for all objects in an 'elems' array."},duration:{heads:["Code","Description","Valid with intervals or list representations"],contents:[["integer","Length of period to be analyzed in units specified by length of 'interval'","dly, mly, yly, [x,x,x], [x,x], [x]"],["mtd","Month-to-date; must specify 'reduce'","dly, [x,x,x]"],["ytd","Year-to-date; must specify 'reduce'","dly, mly, [x,x,x], [x,x]"],["std","Season-to-date; must specify 'reduce' and 'season_start'","dly, mly, [x,x,x], [x,x]"],["dly","Daily (NOT RECOMMENDED, use 1 instead)","dly"],["mly","Monthly (NOT RECOMMENDED, use 1 instead)); must specify 'reduce'","mly"],["yly","Yearly (NOT RECOMMENDED, use 1 instead); must specify 'reduce'","yly"]]},reduce:{heads:["Code","Description"],contents:[["max","Maximum value for the period"],["min","Minimum value for the period"],["sum","Sum of the values for the period"],["mean","Average of the values for the period"],["list","Array of daily values for the period"],["cnt_xx_yyy","Count of number of daily values passing threshold"],["pct_xx_yyy","Percent (integer) of daily values passing threshold"],["fct_xx_yyy","Fraction (float) of daily values passing threshold"],["first_xx_yyy","First occurrence of daily value passing threshold"],["last_xx_yyy","Last occurrence of daily value passing threshold"],["run_xx_yyy","Consecutive daily values passing threshold"],["","xx is operator (ge, gt, le, lt, eq, ne); yyy is threshold (integer or floating point); Examples: cnt_ge_0.01, pct_eq_100"]]},grid_reduce:{heads:["Code","Description"],contents:[["max","Maximum value for the period"],["min","Minimum value for the period"],["sum","Sum of the values for the period"],["mean","Average of the values for the period"],["stddev","Standard deviation of the values"],["list","Array of daily values for the period"],["cnt_xx_yyy","Count of number of daily values passing threshold"],["pct_xx_yyy","Percent (integer) of daily values passing threshold"],["fct_xx_yyy","Fraction (float) of daily values passing threshold"],["","xx is operator (ge, gt, le, lt, eq, ne); yyy is threshold (integer or floating point); Examples: cnt_ge_0.01, pct_eq_100"]]},grid2_reduce:{heads:["Code","Description"],contents:[["max","Maximum value for the period"],["min","Minimum value for the period"],["sum","Sum of the values for the period"],["mean","Average of the values for the period"],["cnt_xx_yyy","Count of number of daily values passing threshold"],["","xx is operator (ge, gt, le, lt, eq, ne); yyy is threshold (integer or floating point); Examples: cnt_ge_0.01, pct_eq_100"]],foots:"Only certain cnt thresholds are available for LOCA pre-computed models (i.e. allmax, allmin, allmedian, wmean"},smry:{heads:["Code","Description"],contents:[["max","Maximum value for the column"],["min","Minimum value for the column"],["sum","Sum of values in the column"],["mean","Average of values in the column"],["cnt_xx_yyy","Count of number of values in column passing threshold"],["pct_xx_yyy","Percent (integer) of values in column passing threshold"],["fct_xx_yyy","Fraction (float) of values in columnn passing threshold"],["run_xx_yyy","Consecutive column values passing threshold"],["","xx is operator (ge, gt, le, lt, eq, ne); yyy is threshold (integer or floating point); Examples: cnt_ge_0.01, run_le_32"]],foots:"More than one smry code can be specified by an array of strings or an array of objects."},season_start:{heads:["Description","Examples"],contents:[["For interval of dly or [x,x,x] - month and day","[12,21] or 06-20"],["For interval of mly or [x,x] - just month","3"]]},maxmissing:{heads:["Description "],contents:[["Integer value indicating the number missing daily values to allow before a reduction is reported as missing."]]},prec:{heads:["Description "],contents:[["Integer value indicating the number of decimal places of precision displayed in the results for this element. Not available for some elements."]]},groupby:{heads:["Code","Description"],contents:[["year","Results will be returned with all data for a year in a list."],["year, mm-dd, mm-dd","Results will be returned with all daily data between specified start date and end date in a list identified by ending year."],["year, mm, mm","Monthly summarized data will be returned for all months between specified start month and end month in a list identified by ending year."]]},loc:{heads:["Description","Example"],contents:[["Point location defined in decimal degrees (longitude, latitude); negative values for South latitude and West longitude","-77.7, 41.8"]]},grid:{heads:["ID","Description","Area","Period"],contents:[[" 1","NRCC Interpolated","Continental US","1950-present"],[" 2","Multi-Sensor Precipitation Estimates","Continental US","2006-present"],[" 3","NRCC Hi-Res","East of Rockies","Temp: 1998-present; Pcpn: 2002-present"],[" 21","PRISM (https://www.prism.oregonstate.edu)","Continental US","Daily: 1981-present; Monthly/Yearly: 1895-present"],[" 4-16","NARCCAP (to be deprecated) *","Continental US","1970-2000, 2040-2070"],["4","CRCM + NCEP (historical only)"],["5","CRCM + CCSM"],["6","CRCM + CGCM3"],["9","MM5I + NCEP (historical only)"],["10","MM5I + CCSM"],["11","RCM3 + NCEP (historical only)"],["12","RCM3 + CGCM3"],["13","RCM3 + GFDL"],["14","WRFG + NCEP (historical only)"],["15","WRFG + CCSM"],["16","WRFG + CGCM3"]],foots:"* Be aware of idiosyncrasies before using NARCCAP grid sets."},grid2:{heads:["Name","Description","Area","Period"],contents:[["nrcc-nn","NRCC Interpolated","Continental US","1950-present"],["nrcc-model","NRCC Hi-Res","East of Rockies","Temp: 1998-present; Pcpn: 2002-present"],["ncei-norm:91-20","NCEI Gridded Monthly 1991-2020 Normals","Continental US","1991"],["prism","PRISM (https://www.prism.oregonstate.edu)","Continental US","Daily: 1981-present; Monthly/Yearly: 1895-present"],["livneh","Livneh (https://www.esrl.noaa.gov/psd/","Continental US","1950-2012"],["loca","LOCA downscaled data (http://loca.ucsd.edu/)","Continental US","1950-2099"],["snap","SNAP (https://www.snap.uaf.edu)","Alaska","1970-2099"],[" "],["subhead:Model-LOCA precomputed:","subhead:Description","",""],["allmax","Highest of 32 LOCA models (monthly only)","",""],["allmin","Lowest of 32 LOCA models (monthly only)","",""],["allmedian","Median of 32 LOCA models (monthly only)","",""],["wmean","Weighted mean of 32 LOCA models (monthly only)","",""],["subhead:Model-LOCA individual:"],["ACCESS1-0, ACCESS1-3, CCSM4, CESM1-BGC, CESM1-CAM5, CMCC-CM, CMCC-CMS, CNRM-CM5, CSIRO-Mk3-6-0, CanESM2, EC-EARTH, FGOALS-g2, GFDL-CM3, GFDL-ESM2G, GFDL-ESM2M,, GISS-E2-H, GISS-E2-R, HadGEM2-AO, HadGEM2-CC, HadGEM2-ES, IPSL-CM5A-LR, IPSL-CM5A-MR,, MIROC-ESM, MIROC-ESM-CHEM, MIROC5, MPI-ESM-LR, MPI-ESM-MR, MRI-CGCM3, NorESM1-M, bcc-csm1-1, bcc-csm1-1-m, inmcm4"],["subhead:Model-SNAP individual:"],["GFDL-CM3, NCAR-CCSM4"],[" "],["subhead:Scenarios","subhead:Description","subhead:Valid for",""],["rcp85","High greenhouse gas and aerosol emissions scenario","loca and snap",""],["rcp45","Medium greenhouse gas and aerosol emissions scenario","loca only",""]],foots:"LOCA and SNAP datasets are specified in the form 'name:model:scenario', e.g. 'loca:wmean:rcp85'."},units:{heads:["Code","Description"],contents:[["degreeC","Temperatures degrees C"],["degreeF","Temperatures degrees F"],["degreeK","Temperatures degrees K"],["inch","Precipitation inches"],["mm","Precipitation millimeters"]]},area_reduce:{heads:["Code","Description"],contents:[["aaaa_max","Maximum grid value in area"],["aaaa_min","Minimum grid value in area"],["aaaa_mean","Average of all grid values in the area"]],foots:"aaaa is area type ('county' ,'climdiv', 'basin', 'state'); Example: county_max"},grid_meta:{heads:["Code","Description"],contents:[["ll","Longitude and latitude of grid points (implementation pending in GridData2)"],["elev","Elevation of grid points (implementation pending in GridData2)"]]},grid_elems:{heads:["Abbreviation","Var Major","Description"],contents:[["maxt","1","Maximum temperature (&deg;F)"],["mint","2","Minimum temperature (&deg;F)"],["avgt","43","Average temperature (&deg;F)"],["pcpn","4","Precipitation (inches)"],["cdd","","Cooling degree days (default base 65)"],["hdd","45","Degree days below base (default base 65)"],["gdd","44","Degree days above base (default base 50)"],["cddXX","-","Cooling Degree Days; where XX is base temperature"],["hddXX","-","Heating Degree Days; where XX is base temperature"],["gddXX","-","Growing Degree Days; where XX is base temperature"],["gddXX","-","Growing Degree Days; where XX is base temperature"],["subhead:Additional Element Codes for Monthly/Yearly PRISM Data"],["mly_maxt","91","Monthly mean maximum temperature (&deg;F)"],["mly_mint","92","Monthly mean minimum temperature (&deg;F)"],["mly_avgt","99","Monthly mean average temperature (&deg;F)"],["mly_pcpn","94","Monthly precipitation sum (inches)"],["yly_maxt","95","Yearly mean maximum temperature (&deg;F)"],["yly_mint","96","Yearly mean minimum temperature (&deg;F)"],["yly_avgt","100","Yearly mean average temperature (&deg;F)"],["yly_pcpn","98","Yearly precipitation sum (inches)"]],foots:"Degree days can also be specified with the keys 'name' (or 'vX') and 'base'. The PRISM mly and yly codes are used to access monthly/yearly PRISM gridded datasets directly, not derived monthly/yearly values reduced from daily gridded data."},grid2_name:{heads:["Abbreviation","Var Major","Description"],contents:[["maxt","1","Maximum temperature (&deg;F)"],["mint","2","Minimum temperature (&deg;F)"],["avgt","43","Average temperature (&deg;F)"],["pcpn","4","Precipitation (inches)"],["cdd","","Cooling degree days (default base 65)"],["hdd","45","Degree days below base (default base 65)"],["gdd","44","Degree days above base (default base 50)"],["cddXX","-","Cooling Degree Days; where XX is base temperature"],["hddXX","-","Heating Degree Days; where XX is base temperature"],["gddXX","-","Growing Degree Days; where XX is base temperature"],["gddXX","-","Growing Degree Days; where XX is base temperature"]],foots:"Degree days can also be specified with the keys 'name' (or 'vX') and 'base'. "},grid2_elems:{heads:[],contents:[["Elements must be specified as an object or list of objects."]]},info_only:{heads:["Code","Description"],contents:[["1","Only information about the map is returned, not png image"],["","If not specified, png image is returned in data portion of JSON object"]]},proj:{heads:["Code","Description"],contents:[["lcc","Lambert conformal conic centered on selected area"]],foots:"Default is Lambert conformal conic centered on the continental US."},overlays:{heads:["Code","Description"],contents:[["state","State borders"],["county","County borders"]],foots:"Line width and color can also be specified, separated by colons. For example, ['state:1:red','county:1:blue']"},interp:{heads:["Code","Description"],contents:[["cspline","Cubic spline (default)"],["none","No interpolation"]]},cmap:{heads:["Code","Description"],contents:[["Blues","Shades of blue"],["Reds","Shades of red"],["jet","Blue to red"],["...","Other color maps as defined in matplotlib: http://matplotlib.sourceforge.net/mpl_examples/pylab_examples/show_colormaps.pdf"]]},width:{heads:["Code","Description"],contents:[["integer","Specify width of png image in pixels"]],foots:"Only specify 'width' or 'height, not both."},height:{heads:["Code","Description"],contents:[["integer","Specify height of png image in pixels"]],foots:"Only specify 'height' or 'width, not both."},levels:{heads:["Description","Example"],contents:[["Comma-separated list of contour levels","0,5,10,15,20"]],foots:"Will be determined by server if not specified."},general_id:{heads:["Area","ID Type","Example"],contents:[["state","Postal","NY"],["county","FIPS","36109"],["climdiv","Divison number","NY10"],["cwa","NWS CWA","BGM"],["basin","8-digit HUC","01080205"]]},general_meta:{heads:["Area","Available Meta Options"],contents:[["state","id, name, bbox, geojson, state"],["county","id, name, bbox, geojson, state"],["climdiv","id, name, bbox, geojson, state"],["cwa","id, name, bbox, geojson"],["basin","id, name, bbox, geojson"]],foots:"If not specified, default is id and name."},network:{heads:["Code","Network Name"],contents:[["0","Unknown"],["1","TD3200"],["2","TD3210"],["4","SHEF"],["5","AWDN"],["7","CF6"],["8","RCC keyed"],["9","NRCC local"],["13","WRCC local"],["14","SRCC local"],["15","DSM"],["16","TD3206"],["17","GHCN-D"],["19","CF6 overriding GHCN-D"],["52","TD3205"],["53","NWS Supplied"],["54","ThreadEx"],["56","CRB"]],foots:"Additional networks are available with only hourly data."}},be=function(e){function t(){return Object(u.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.id;e.includes("date")?e="date":"sid"===e?e="sids":"name"===e&&(e="elems");var t=ve.hasOwnProperty(e)?ve[e]:ve.nohelp,a=t.hasOwnProperty("contents")?t.contents[0].length:1;return i.a.createElement(v.a,{elevation:1,style:{border:"1px solid gray",margin:"1em 10%",padding:"5px",backgroundColor:"lightcyan"}},i.a.createElement(le.a,{padding:"dense"},t.hasOwnProperty("heads")&&t.heads.length>0&&i.a.createElement(ce.a,null,i.a.createElement(fe.a,{style:{height:"1em"}},t.heads.map(function(e,t){return i.a.createElement(ue.a,{key:t},e)}))),t.hasOwnProperty("contents")&&t.contents.length>0&&i.a.createElement(de.a,null,t.contents.map(function(e,t){return i.a.createElement(fe.a,{hover:!0,key:t,style:{height:"1em"}},e.map(function(t,s){return i.a.createElement(ue.a,{variant:t.includes("subhead:")?"head":"body",colSpan:1===e.length?a:1,key:s},t.replace("subhead:",""))}))})),t.hasOwnProperty("foots")&&t.foots.length>0&&i.a.createElement(ye.a,null,i.a.createElement(fe.a,{style:{height:"1em"}},i.a.createElement(ue.a,{colSpan:a},t.foots)))))}}]),t}(s.Component),Ee=a(227),_e=a.n(Ee),Pe=["Any","NRCC","HPRCC","AWS1"],Fe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).handleOpenMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.handleCloseMenu=function(){a.setState({anchorEl:null})},a.handleMenuSelect=function(e){a.setState({anchorEl:null}),a.props.updateAppState({server:e})},a.state={anchorEl:null},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement("footer",{className:t.footer},i.a.createElement(E.a,{container:!0},i.a.createElement(E.a,{item:!0,xs:6},i.a.createElement(L.a,{className:t.button,variant:"text",size:"small",onClick:this.handleOpenMenu},"Select specific server ","Any"!==this.props.server&&"("+this.props.server+")"),i.a.createElement(_e.a,{open:Boolean(this.state.anchorEl),anchorEl:this.state.anchorEl,onClose:this.handleCloseMenu},Pe.map(function(a){return i.a.createElement(ee.a,{key:a,selected:a===e.props.server,className:t.menuitem,onClick:function(){return e.handleMenuSelect(a)}},a)}))),i.a.createElement(E.a,{item:!0,xs:6},i.a.createElement(P.a,{align:"right",color:"primary",variant:"caption"},i.a.createElement("a",{href:"https://www.rcc-acis.org/docs_webservices.html",target:"blank"},"Full documentation"),i.a.createElement("br",null),i.a.createElement("a",{href:"https://builder.rcc-acis.org/index2.html"},"Previous version of Query Builder")))))}}]),t}(s.Component),we=Object(l.withStyles)({footer:{padding:"1em"},button:{color:"darkblue",lineHeight:"1",fontSize:"75%",textTransform:"capitalize",fontWeight:"normal"},menuitem:{height:"18px",fontSize:"75%"}})(Fe),Se={StnMeta:"https://data.rcc-acis.org/StnMeta",StnData:"https://data.rcc-acis.org/StnData",MultiStnData:"https://data.rcc-acis.org/MultiStnData",GridData:"https://data.rcc-acis.org/GridData",GridData2:"https://grid2.rcc-acis.org/GridData",StnHourly:"https://data.nrcc.rcc-acis.org/StnData",General:"https://data.rcc-acis.org/General/"},Ce=Object.keys(Se),He=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(c.a)(this,Object(h.a)(t).call(this))).handleQueryChange=function(t){e.setState({wstype:t,input_params:{},generalArea:"",helpFor:null})},e.handleInputStringChange=function(t){if(t.length>0)try{e.setState({input_params:JSON.parse(t)})}catch(a){return}},e.updateInputParams=function(t){var a=Object(p.a)({},e.state.input_params);Object.keys(t).forEach(function(e){var s=t[e];s||"object"===typeof s&&Object.keys(s).length>0?a[e]=s:delete a[e]}),e.setState({input_params:a})},e.updateAppState=function(t){e.setState(t)},e.state={wstype:"StnData",input_params:{},generalArea:"",helpFor:null,server:"Any"},e}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){g.a.initialize("UA-47226172-1"),g.a.pageview("Builder-pageview")}},{key:"render",value:function(){var e=Se[this.state.wstype],t=e.indexOf("data.rcc-acis");return-1!==t&&"Any"!==this.state.server&&(e=e.substring(0,t+4)+"."+this.state.server.toLowerCase()+e.substring(t+4)),i.a.createElement("div",null,i.a.createElement(O,{query_types:Ce,wstype:this.state.wstype,handleChange:this.handleQueryChange}),"StnMeta"===this.state.wstype&&i.a.createElement(k,{updateInputParams:this.updateInputParams,updateAppState:this.updateAppState,input_params:this.state.input_params}),"StnData"===this.state.wstype&&i.a.createElement(U,{updateInputParams:this.updateInputParams,updateAppState:this.updateAppState,input_params:this.state.input_params}),"MultiStnData"===this.state.wstype&&i.a.createElement(W,{updateInputParams:this.updateInputParams,updateAppState:this.updateAppState,input_params:this.state.input_params}),"StnHourly"===this.state.wstype&&i.a.createElement(J,{updateInputParams:this.updateInputParams,updateAppState:this.updateAppState,input_params:this.state.input_params}),"GridData"===this.state.wstype&&i.a.createElement(Q,{updateInputParams:this.updateInputParams,updateAppState:this.updateAppState,input_params:this.state.input_params}),"GridData2"===this.state.wstype&&i.a.createElement($,{updateInputParams:this.updateInputParams,updateAppState:this.updateAppState,input_params:this.state.input_params}),"General"===this.state.wstype&&i.a.createElement(te,{updateInputParams:this.updateInputParams,updateAppState:this.updateAppState,input_params:this.state.input_params}),this.state.helpFor&&i.a.createElement(be,{id:this.state.helpFor}),i.a.createElement(ne,{input_params:this.state.input_params,changedInput:this.handleInputStringChange,generalArea:this.state.generalArea,acisServer:e,server:this.state.server}),"StnHourly"!==this.state.wstype&&"GridData2"!==this.state.wstype&&i.a.createElement(we,{server:this.state.server,updateAppState:this.updateAppState}))}}]),t}(s.Component);document.title="ACIS QueryBuilder";var Oe=Object(l.createMuiTheme)({palette:{primary:{main:d.a[700]}},typography:{useNextVariants:!0},overrides:{MuiListItem:{root:{paddingTop:"0.25em",paddingBottom:"0.25em"}}}});r.a.render(i.a.createElement(l.MuiThemeProvider,{theme:Oe},i.a.createElement(He,null)),document.getElementById("root"))}},[[229,2,1]]]);
//# sourceMappingURL=main.6c4f4a53.chunk.js.map