{"ast":null,"code":"import _objectSpread from \"/Users/kle1/progs/React/QueryBuilder3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/kle1/progs/React/QueryBuilder3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/kle1/progs/React/QueryBuilder3/src/App.jsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport ReactGA from 'react-ga';\nimport QuerySelector from './QuerySelector.jsx';\nimport StnMetaInput from './StnMetaInput.jsx';\nimport StnDataInput from './StnDataInput.jsx';\nimport MultiStnDataInput from './MultiStnDataInput.jsx';\nimport StnHourlyInput from './StnHourlyInput.jsx';\nimport GridDataInput from './GridDataInput.jsx';\nimport GridData2Input from './GridData2Input.jsx';\nimport GeneralInput from './GeneralInput.jsx';\nimport Output from './Output';\nimport HelpTable from './HelpTable';\nimport Footer from './Footer.jsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar App = function App() {\n  _s();\n  var acis_servers = {\n    StnMeta: \"https://data.rcc-acis.org/StnMeta\",\n    StnData: \"https://data.rcc-acis.org/StnData\",\n    MultiStnData: \"https://data.rcc-acis.org/MultiStnData\",\n    GridData: \"https://data.rcc-acis.org/GridData\",\n    GridData2: \"https://grid2.rcc-acis.org/GridData\",\n    StnHourly: \"https://data.nrcc.rcc-acis.org/StnData\",\n    General: \"https://data.rcc-acis.org/General/\"\n  };\n  var _useState = useState('StnData'),\n    _useState2 = _slicedToArray(_useState, 2),\n    wstype = _useState2[0],\n    setWstype = _useState2[1];\n  var _useState3 = useState({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    input_params = _useState4[0],\n    setInput_params = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    generalArea = _useState6[0],\n    setGeneralArea = _useState6[1];\n  var _useState7 = useState(),\n    _useState8 = _slicedToArray(_useState7, 2),\n    helpFor = _useState8[0],\n    setHelpFor = _useState8[1];\n  var _useState9 = useState('Any'),\n    _useState10 = _slicedToArray(_useState9, 2),\n    server = _useState10[0],\n    setServer = _useState10[1];\n  var _useState11 = useState(acis_servers[wstype]),\n    _useState12 = _slicedToArray(_useState11, 2),\n    acisServerUrl = _useState12[0],\n    setAcisServerUrl = _useState12[1];\n  useEffect(function () {\n    ReactGA.initialize('UA-47226172-1');\n    ReactGA.pageview('Builder-pageview');\n  }, []);\n  var handleQueryChange = function handleQueryChange(value) {\n    setWstype(value);\n    updateServerUrl(value, server);\n    setInput_params({});\n    setGeneralArea('');\n    setHelpFor('');\n  };\n  var handleInputStringChange = function handleInputStringChange(inputString) {\n    if (inputString.length > 0) {\n      try {\n        setInput_params(JSON.parse(inputString));\n      } catch (_unused) {\n        return;\n      }\n    }\n  };\n  var updateInputParams = function updateInputParams(changes) {\n    var new_input_params = input_params;\n    Object.keys(changes).forEach(function (key) {\n      var value = changes[key];\n      if (value || typeof value === 'object' && Object.keys(value).length > 0) {\n        new_input_params[key] = value;\n      } else {\n        delete new_input_params[key];\n      }\n    });\n    setInput_params(_objectSpread({}, new_input_params));\n  };\n  var updateServer = function updateServer(value) {\n    setServer(value);\n    updateServerUrl(wstype, value);\n  };\n  var updateServerUrl = function updateServerUrl(stype, sserve) {\n    var serverurl = acis_servers[stype];\n    var datarccindex = serverurl.indexOf('data.rcc-acis');\n    if (datarccindex !== -1 && server !== 'Any') {\n      serverurl = serverurl.substring(0, datarccindex + 4) + \".\" + sserve.toLowerCase() + serverurl.substring(datarccindex + 4);\n    }\n    setAcisServerUrl(serverurl);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(QuerySelector, {\n      query_types: Object.keys(acis_servers),\n      wstype: wstype,\n      handleChange: handleQueryChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, _this), wstype === \"StnMeta\" && /*#__PURE__*/_jsxDEV(StnMetaInput, {\n      updateInputParams: updateInputParams,\n      updateHelpFor: setHelpFor,\n      input_params: input_params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, _this), wstype === \"StnData\" && /*#__PURE__*/_jsxDEV(StnDataInput, {\n      updateInputParams: updateInputParams,\n      updateHelpFor: setHelpFor,\n      input_params: input_params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, _this), wstype === \"MultiStnData\" && /*#__PURE__*/_jsxDEV(MultiStnDataInput, {\n      updateInputParams: updateInputParams,\n      updateHelpFor: setHelpFor,\n      input_params: input_params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, _this), wstype === \"StnHourly\" && /*#__PURE__*/_jsxDEV(StnHourlyInput, {\n      updateInputParams: updateInputParams,\n      updateHelpFor: setHelpFor,\n      input_params: input_params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, _this), wstype === \"GridData\" && /*#__PURE__*/_jsxDEV(GridDataInput, {\n      updateInputParams: updateInputParams,\n      updateHelpFor: setHelpFor,\n      input_params: input_params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, _this), wstype === \"GridData2\" && /*#__PURE__*/_jsxDEV(GridData2Input, {\n      updateInputParams: updateInputParams,\n      updateHelpFor: setHelpFor,\n      input_params: input_params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }, _this), wstype === \"General\" && /*#__PURE__*/_jsxDEV(GeneralInput, {\n      updateInputParams: updateInputParams,\n      updateHelpFor: setHelpFor,\n      updateGeneralArea: setGeneralArea,\n      input_params: input_params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }, _this), helpFor && /*#__PURE__*/_jsxDEV(HelpTable, {\n      id: helpFor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(Output, {\n      input_params: input_params,\n      changedInput: handleInputStringChange,\n      generalArea: generalArea,\n      acisServer: acisServerUrl,\n      server: server\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, _this), wstype !== 'StnHourly' && wstype !== 'GridData2' && /*#__PURE__*/_jsxDEV(Footer, {\n      server: server,\n      updateServer: updateServer\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, _this);\n};\n_s(App, \"J/VuUlKHiDoILxHESLlEUe9N9Z0=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","ReactGA","QuerySelector","StnMetaInput","StnDataInput","MultiStnDataInput","StnHourlyInput","GridDataInput","GridData2Input","GeneralInput","Output","HelpTable","Footer","App","acis_servers","StnMeta","StnData","MultiStnData","GridData","GridData2","StnHourly","General","wstype","setWstype","input_params","setInput_params","generalArea","setGeneralArea","helpFor","setHelpFor","server","setServer","acisServerUrl","setAcisServerUrl","initialize","pageview","handleQueryChange","value","updateServerUrl","handleInputStringChange","inputString","length","JSON","parse","updateInputParams","changes","new_input_params","Object","keys","forEach","key","updateServer","stype","sserve","serverurl","datarccindex","indexOf","substring","toLowerCase"],"sources":["/Users/kle1/progs/React/QueryBuilder3/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport ReactGA from 'react-ga'\nimport QuerySelector from './QuerySelector.jsx'\nimport StnMetaInput from './StnMetaInput.jsx'\nimport StnDataInput from './StnDataInput.jsx'\nimport MultiStnDataInput from './MultiStnDataInput.jsx'\nimport StnHourlyInput from './StnHourlyInput.jsx'\nimport GridDataInput from './GridDataInput.jsx'\nimport GridData2Input from './GridData2Input.jsx'\nimport GeneralInput from './GeneralInput.jsx'\nimport Output from './Output'\nimport HelpTable from './HelpTable'\nimport Footer from './Footer.jsx'\n\nconst App = () => {\n  const acis_servers = {\n    StnMeta: \"https://data.rcc-acis.org/StnMeta\",\n    StnData: \"https://data.rcc-acis.org/StnData\",\n    MultiStnData: \"https://data.rcc-acis.org/MultiStnData\",\n    GridData: \"https://data.rcc-acis.org/GridData\",\n    GridData2: \"https://grid2.rcc-acis.org/GridData\",\n    StnHourly: \"https://data.nrcc.rcc-acis.org/StnData\",\n    General: \"https://data.rcc-acis.org/General/\",\n  }\n\n  const [wstype, setWstype] = useState('StnData')\n  const [input_params, setInput_params] = useState({})\n  const [generalArea, setGeneralArea] = useState('')\n  const [helpFor, setHelpFor] = useState()\n  const [server, setServer] = useState('Any')\n  const [acisServerUrl, setAcisServerUrl] = useState(acis_servers[wstype])\n    \n  useEffect(() => {\n      ReactGA.initialize('UA-47226172-1')\n      ReactGA.pageview('Builder-pageview')    \n    }, [])\n\n  const handleQueryChange = (value) => {\n    setWstype(value)\n    updateServerUrl(value, server)\n    setInput_params({})\n    setGeneralArea('')\n    setHelpFor('')\n  }\n\n  const handleInputStringChange = (inputString) => {\n    if (inputString.length > 0) {\n      try {\n        setInput_params(JSON.parse(inputString))\n      } catch {\n        return\n      }\n    }\n  }\n\n  const updateInputParams = (changes) => {\n    let new_input_params = input_params\n    Object.keys(changes).forEach((key) => {\n      const value = changes[key]\n      if (value || (typeof value === 'object' && Object.keys(value).length > 0)) {\n        new_input_params[key] = value\n      } else {\n        delete new_input_params[key]\n      }\n    })\n    setInput_params({ ...new_input_params })\n  }\n\n  const updateServer = (value) => {\n    setServer(value)\n    updateServerUrl(wstype, value)\n  }\n\n  const updateServerUrl = (stype, sserve) => {\n    let serverurl = acis_servers[stype]\n    const datarccindex = serverurl.indexOf('data.rcc-acis')\n    if (datarccindex !== -1 && server !== 'Any') {\n      serverurl = serverurl.substring(0,datarccindex+4) + \".\" + sserve.toLowerCase() + serverurl.substring(datarccindex+4)\n    }\n    setAcisServerUrl(serverurl)\n  }\n\n\n  \n  return (\n    <div>\n      <QuerySelector\n        query_types={Object.keys(acis_servers)}\n        wstype={wstype}\n        handleChange={handleQueryChange}\n      />\n      {wstype === \"StnMeta\" && \n        <StnMetaInput \n          updateInputParams={updateInputParams}\n          updateHelpFor={setHelpFor}\n          input_params={input_params}\n        />\n      }\n      {wstype === \"StnData\" && \n        <StnDataInput \n          updateInputParams={updateInputParams}\n          updateHelpFor={setHelpFor}\n          input_params={input_params}\n        />\n      }\n      {wstype === \"MultiStnData\" && \n        <MultiStnDataInput \n          updateInputParams={updateInputParams}\n          updateHelpFor={setHelpFor}\n          input_params={input_params}\n        />\n      }\n      {wstype === \"StnHourly\" && \n        <StnHourlyInput \n          updateInputParams={updateInputParams}\n          updateHelpFor={setHelpFor}\n          input_params={input_params}\n        />\n      }\n      {wstype === \"GridData\" && \n        <GridDataInput \n          updateInputParams={updateInputParams}\n          updateHelpFor={setHelpFor}\n          input_params={input_params}\n        />\n      }\n      {wstype === \"GridData2\" && \n        <GridData2Input \n          updateInputParams={updateInputParams}\n          updateHelpFor={setHelpFor}\n          input_params={input_params}\n        />\n      }\n      {wstype === \"General\" && \n        <GeneralInput \n          updateInputParams={updateInputParams}\n          updateHelpFor={setHelpFor}\n          updateGeneralArea={setGeneralArea}\n          input_params={input_params}\n        />\n      }\n      {helpFor && \n        <HelpTable \n          id={helpFor}\n        /> \n      }\n      <Output\n        input_params={input_params} \n        changedInput={handleInputStringChange}\n        generalArea={generalArea}\n        acisServer={acisServerUrl}\n        server={server}\n      />\n      {wstype !== 'StnHourly' && wstype !== 'GridData2' &&\n        <Footer \n          server={server}\n          updateServer={updateServer}\n        />\n      }\n    </div>\n  )\n  \n}\n\nexport default App"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,OAAO,MAAM,UAAU;AAC9B,OAAOC,aAAa,MAAM,qBAAqB;AAC/C,OAAOC,YAAY,MAAM,oBAAoB;AAC7C,OAAOC,YAAY,MAAM,oBAAoB;AAC7C,OAAOC,iBAAiB,MAAM,yBAAyB;AACvD,OAAOC,cAAc,MAAM,sBAAsB;AACjD,OAAOC,aAAa,MAAM,qBAAqB;AAC/C,OAAOC,cAAc,MAAM,sBAAsB;AACjD,OAAOC,YAAY,MAAM,oBAAoB;AAC7C,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,MAAM,MAAM,cAAc;AAAA;AAEjC,IAAMC,GAAG,GAAG,SAANA,GAAG,GAAS;EAAA;EAChB,IAAMC,YAAY,GAAG;IACnBC,OAAO,EAAE,mCAAmC;IAC5CC,OAAO,EAAE,mCAAmC;IAC5CC,YAAY,EAAE,wCAAwC;IACtDC,QAAQ,EAAE,oCAAoC;IAC9CC,SAAS,EAAE,qCAAqC;IAChDC,SAAS,EAAE,wCAAwC;IACnDC,OAAO,EAAE;EACX,CAAC;EAED,gBAA4BrB,QAAQ,CAAC,SAAS,CAAC;IAAA;IAAxCsB,MAAM;IAAEC,SAAS;EACxB,iBAAwCvB,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAA;IAA7CwB,YAAY;IAAEC,eAAe;EACpC,iBAAsCzB,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA3C0B,WAAW;IAAEC,cAAc;EAClC,iBAA8B3B,QAAQ,EAAE;IAAA;IAAjC4B,OAAO;IAAEC,UAAU;EAC1B,iBAA4B7B,QAAQ,CAAC,KAAK,CAAC;IAAA;IAApC8B,MAAM;IAAEC,SAAS;EACxB,kBAA0C/B,QAAQ,CAACc,YAAY,CAACQ,MAAM,CAAC,CAAC;IAAA;IAAjEU,aAAa;IAAEC,gBAAgB;EAEtClC,SAAS,CAAC,YAAM;IACZE,OAAO,CAACiC,UAAU,CAAC,eAAe,CAAC;IACnCjC,OAAO,CAACkC,QAAQ,CAAC,kBAAkB,CAAC;EACtC,CAAC,EAAE,EAAE,CAAC;EAER,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiB,CAAIC,KAAK,EAAK;IACnCd,SAAS,CAACc,KAAK,CAAC;IAChBC,eAAe,CAACD,KAAK,EAAEP,MAAM,CAAC;IAC9BL,eAAe,CAAC,CAAC,CAAC,CAAC;IACnBE,cAAc,CAAC,EAAE,CAAC;IAClBE,UAAU,CAAC,EAAE,CAAC;EAChB,CAAC;EAED,IAAMU,uBAAuB,GAAG,SAA1BA,uBAAuB,CAAIC,WAAW,EAAK;IAC/C,IAAIA,WAAW,CAACC,MAAM,GAAG,CAAC,EAAE;MAC1B,IAAI;QACFhB,eAAe,CAACiB,IAAI,CAACC,KAAK,CAACH,WAAW,CAAC,CAAC;MAC1C,CAAC,CAAC,gBAAM;QACN;MACF;IACF;EACF,CAAC;EAED,IAAMI,iBAAiB,GAAG,SAApBA,iBAAiB,CAAIC,OAAO,EAAK;IACrC,IAAIC,gBAAgB,GAAGtB,YAAY;IACnCuB,MAAM,CAACC,IAAI,CAACH,OAAO,CAAC,CAACI,OAAO,CAAC,UAACC,GAAG,EAAK;MACpC,IAAMb,KAAK,GAAGQ,OAAO,CAACK,GAAG,CAAC;MAC1B,IAAIb,KAAK,IAAK,OAAOA,KAAK,KAAK,QAAQ,IAAIU,MAAM,CAACC,IAAI,CAACX,KAAK,CAAC,CAACI,MAAM,GAAG,CAAE,EAAE;QACzEK,gBAAgB,CAACI,GAAG,CAAC,GAAGb,KAAK;MAC/B,CAAC,MAAM;QACL,OAAOS,gBAAgB,CAACI,GAAG,CAAC;MAC9B;IACF,CAAC,CAAC;IACFzB,eAAe,mBAAMqB,gBAAgB,EAAG;EAC1C,CAAC;EAED,IAAMK,YAAY,GAAG,SAAfA,YAAY,CAAId,KAAK,EAAK;IAC9BN,SAAS,CAACM,KAAK,CAAC;IAChBC,eAAe,CAAChB,MAAM,EAAEe,KAAK,CAAC;EAChC,CAAC;EAED,IAAMC,eAAe,GAAG,SAAlBA,eAAe,CAAIc,KAAK,EAAEC,MAAM,EAAK;IACzC,IAAIC,SAAS,GAAGxC,YAAY,CAACsC,KAAK,CAAC;IACnC,IAAMG,YAAY,GAAGD,SAAS,CAACE,OAAO,CAAC,eAAe,CAAC;IACvD,IAAID,YAAY,KAAK,CAAC,CAAC,IAAIzB,MAAM,KAAK,KAAK,EAAE;MAC3CwB,SAAS,GAAGA,SAAS,CAACG,SAAS,CAAC,CAAC,EAACF,YAAY,GAAC,CAAC,CAAC,GAAG,GAAG,GAAGF,MAAM,CAACK,WAAW,EAAE,GAAGJ,SAAS,CAACG,SAAS,CAACF,YAAY,GAAC,CAAC,CAAC;IACtH;IACAtB,gBAAgB,CAACqB,SAAS,CAAC;EAC7B,CAAC;EAID,oBACE;IAAA,wBACE,QAAC,aAAa;MACZ,WAAW,EAAEP,MAAM,CAACC,IAAI,CAAClC,YAAY,CAAE;MACvC,MAAM,EAAEQ,MAAO;MACf,YAAY,EAAEc;IAAkB;MAAA;MAAA;MAAA;IAAA,SAChC,EACDd,MAAM,KAAK,SAAS,iBACnB,QAAC,YAAY;MACX,iBAAiB,EAAEsB,iBAAkB;MACrC,aAAa,EAAEf,UAAW;MAC1B,YAAY,EAAEL;IAAa;MAAA;MAAA;MAAA;IAAA,SAC3B,EAEHF,MAAM,KAAK,SAAS,iBACnB,QAAC,YAAY;MACX,iBAAiB,EAAEsB,iBAAkB;MACrC,aAAa,EAAEf,UAAW;MAC1B,YAAY,EAAEL;IAAa;MAAA;MAAA;MAAA;IAAA,SAC3B,EAEHF,MAAM,KAAK,cAAc,iBACxB,QAAC,iBAAiB;MAChB,iBAAiB,EAAEsB,iBAAkB;MACrC,aAAa,EAAEf,UAAW;MAC1B,YAAY,EAAEL;IAAa;MAAA;MAAA;MAAA;IAAA,SAC3B,EAEHF,MAAM,KAAK,WAAW,iBACrB,QAAC,cAAc;MACb,iBAAiB,EAAEsB,iBAAkB;MACrC,aAAa,EAAEf,UAAW;MAC1B,YAAY,EAAEL;IAAa;MAAA;MAAA;MAAA;IAAA,SAC3B,EAEHF,MAAM,KAAK,UAAU,iBACpB,QAAC,aAAa;MACZ,iBAAiB,EAAEsB,iBAAkB;MACrC,aAAa,EAAEf,UAAW;MAC1B,YAAY,EAAEL;IAAa;MAAA;MAAA;MAAA;IAAA,SAC3B,EAEHF,MAAM,KAAK,WAAW,iBACrB,QAAC,cAAc;MACb,iBAAiB,EAAEsB,iBAAkB;MACrC,aAAa,EAAEf,UAAW;MAC1B,YAAY,EAAEL;IAAa;MAAA;MAAA;MAAA;IAAA,SAC3B,EAEHF,MAAM,KAAK,SAAS,iBACnB,QAAC,YAAY;MACX,iBAAiB,EAAEsB,iBAAkB;MACrC,aAAa,EAAEf,UAAW;MAC1B,iBAAiB,EAAEF,cAAe;MAClC,YAAY,EAAEH;IAAa;MAAA;MAAA;MAAA;IAAA,SAC3B,EAEHI,OAAO,iBACN,QAAC,SAAS;MACR,EAAE,EAAEA;IAAQ;MAAA;MAAA;MAAA;IAAA,SACZ,eAEJ,QAAC,MAAM;MACL,YAAY,EAAEJ,YAAa;MAC3B,YAAY,EAAEe,uBAAwB;MACtC,WAAW,EAAEb,WAAY;MACzB,UAAU,EAAEM,aAAc;MAC1B,MAAM,EAAEF;IAAO;MAAA;MAAA;MAAA;IAAA,SACf,EACDR,MAAM,KAAK,WAAW,IAAIA,MAAM,KAAK,WAAW,iBAC/C,QAAC,MAAM;MACL,MAAM,EAAEQ,MAAO;MACf,YAAY,EAAEqB;IAAa;MAAA;MAAA;MAAA;IAAA,SAC3B;EAAA;IAAA;IAAA;IAAA;EAAA,SAEA;AAGV,CAAC;AAAA,GApJKtC,GAAG;AAAA,KAAHA,GAAG;AAsJT,eAAeA,GAAG;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}