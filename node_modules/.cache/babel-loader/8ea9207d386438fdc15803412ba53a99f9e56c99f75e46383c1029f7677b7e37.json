{"ast":null,"code":"import _defineProperty from \"/Users/kle1/progs/React/QueryBuilder3/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/Users/kle1/progs/React/QueryBuilder3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _toConsumableArray from \"/Users/kle1/progs/React/QueryBuilder3/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/kle1/progs/React/QueryBuilder3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/kle1/progs/React/QueryBuilder3/src/GridDataInput.jsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Typography from '@mui/material/Typography';\nimport Grid from '@mui/material/Grid';\nimport Button from '@mui/material/Button';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Switch from '@mui/material/Switch';\nimport RenderTextField from './RenderTextField';\nimport DateSelection from './DateSelection';\nimport QueryExplain from './QueryExplain';\nimport { buildElement, buildImage } from './Builders.jsx';\nimport { makeStyles } from '@mui/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    button: {\n      marginTop: \"0.5em\"\n    }\n  };\n});\nvar GridDataInput = function GridDataInput(props) {\n  _s();\n  var _useState = useState({\n      loc: '',\n      state: '',\n      bbox: '',\n      sdate: '',\n      edate: '',\n      date: '',\n      grid: '',\n      elems: '',\n      name: '',\n      base: '',\n      interval: '',\n      duration: '',\n      season_start: '',\n      reduce: '',\n      maxmissing: '',\n      smry: '',\n      smry_only: '',\n      area_reduce: '',\n      prec: '',\n      units: '',\n      meta: '',\n      output: '',\n      image: '',\n      info_only: '',\n      proj: '',\n      overlays: '',\n      interp: '',\n      cmap: '',\n      width: '',\n      height: '',\n      levels: ''\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    datastate = _useState2[0],\n    setDatastate = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    notdly = _useState4[0],\n    setNotdly = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    hasInterval = _useState6[0],\n    setHasInterval = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    hasElemsError = _useState8[0],\n    setHasElemsError = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    mapcontrols = _useState10[0],\n    setMapcontrols = _useState10[1];\n  var datafields = ['loc', 'state', 'bbox', 'sdate', 'edate', 'date', 'grid', 'elems', 'meta', 'output', 'image'];\n  var imagefields = ['info_only', 'proj', 'overlays', 'interp', 'cmap', 'width', 'height', 'levels'];\n  var elementKeys = Object.keys(_this.state).filter(function (item) {\n    return ![].concat(_toConsumableArray(_this.datafields), _toConsumableArray(_this.imagefields)).includes(item);\n  });\n  var classes = useStyles();\n  var updateParam = function updateParam(update) {\n    setDatastate(_objectSpread(_objectSpread({}, datastate), update));\n    props.updateInputParams(update);\n  };\n  var updateElemBuild = function updateElemBuild(update) {\n    setDatastate(_objectSpread(_objectSpread({}, datastate), update));\n  };\n  var addElement = function addElement(event) {\n    var action = event.currentTarget.id; //\"add\" or \"replace\"\n    var newElems = JSON.stringify(buildElement(elementKeys, datastate, action));\n    setDatastate(_objectSpread(_objectSpread({}, datastate), {\n      elems: newElems\n    }));\n    props.updateInputParams({\n      elems: newElems\n    });\n    props.updateHelpFor(\"\");\n  };\n  var clearElements = function clearElements() {\n    setDatastate(_objectSpread(_objectSpread({}, datastate), {\n      elems: ''\n    }));\n    props.updateInputParams({\n      elems: \"\"\n    });\n    props.updateHelpFor(\"\");\n    setHasInterval(false);\n    setHasElemsError(false);\n  };\n  var updateElems = function updateElems(update) {\n    setDatastate(_objectSpread(_objectSpread({}, datastate), update));\n    try {\n      JSON.parse(update.elems);\n      setHasElemsError(false);\n      props.updateInputParams(update);\n    } catch (_unused) {\n      setHasElemsError(true);\n    }\n  };\n  var updateImage = function updateImage(update) {\n    var image = buildImage(imagefields, datastate); //?????????????????????????????\n    setDatastate(_objectSpread(_objectSpread({}, datastate), {\n      image: image\n    }));\n    props.updateInputParams({\n      image: image\n    });\n  };\n  var updateOutput = function updateOutput(update) {\n    if (update.output === 'image') {\n      var image = buildImage(imagefields, datastate);\n      updateParam({\n        output: \"image\",\n        image: image\n      });\n      setMapcontrols(true);\n    } else {\n      updateParam(update);\n    }\n  };\n  var updateHelpFor = function updateHelpFor(helpFor) {\n    if (helpFor === 'meta') {\n      helpFor = 'grid_meta';\n    } else if (helpFor === 'output') {\n      helpFor = 'grid_output';\n    } else if (helpFor === 'reduce') {\n      helpFor = 'grid_reduce';\n    } else if (helpFor === 'name' || helpFor === 'elems') {\n      helpFor = 'grid_elems';\n    }\n    _this.props.updateHelpFor(helpFor);\n  };\n  handleMapControlClick = function handleMapControlClick(event) {\n    if (datastate.output !== 'image' || event.target.checked) {\n      var image = event.target.checked ? buildImage(imagefields, datastate) : \"\";\n      updateParam({\n        image: image\n      });\n      setMapcontrols(event.target.checked);\n    }\n  };\n  shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    if (_this.state !== nextState) {\n      return true;\n    } else if (_this.props !== nextProps) {\n      return _this.datafields.some(function (key) {\n        return nextProps.input_params.hasOwnProperty(key) && _this.state[key] !== nextProps.input_params[key] || !nextProps.input_params.hasOwnProperty(key) && _this.state[key] !== '';\n      });\n    } else {\n      return false;\n    }\n  };\n  var checkHasInterval = function checkHasInterval(update) {\n    if (update.elems.length > 0) {\n      try {\n        var _updateElems = JSON.parse(update.elems);\n        var cond = false;\n        _updateElems.forEach(function (ue) {\n          if (ue.hasOwnProperty('interval') && ue.interval.length) {\n            cond = true;\n          }\n        });\n        if (cond !== hasInterval) {\n          setHasInterval(cond);\n        }\n      } catch (_unused2) {\n        console.log('Error parsing elems update: ' + update.elems);\n      }\n    } else {\n      setHasInterval(false);\n    }\n  };\n\n  // Update local variable storage whenever input_params updates\n  useEffect(function () {\n    var newstate = {};\n    datafields.forEach(function (key) {\n      if (props.input_params.hasOwnProperty(key)) {\n        if (key === 'elems' && typeof props.input_params.elems === 'object') {\n          newstate = _objectSpread(_objectSpread({}, newstate), _defineProperty({}, key, JSON.stringify(props.input_params.elems)));\n          checkHasInterval(_defineProperty({}, key, JSON.stringify(props.input_params.elems)));\n        } else {\n          newstate = _objectSpread(_objectSpread({}, newstate), _defineProperty({}, key, props.input_params[key]));\n        }\n      } else {\n        newstate = _objectSpread(_objectSpread({}, newstate), _defineProperty({}, key, ''));\n      }\n    });\n    setDatastate(_objectSpread(_objectSpread({}, datastate), newstate));\n    // eslint-disable-next-line\n  }, [props.input_params]);\n\n  // Check for change to notdly whenever duration or interval changes\n  useEffect(function () {\n    if (datastate.duration) {\n      setNotdly(datastate.duration.length === 3 && datastate.duration !== 'dly' || datastate.duration.length > 0 && !isNaN(Number(datastate.duration)) && (datastate.duration !== \"1\" || datastate.interval !== 'dly' && !(datastate.interval.includes('[') && datastate.interval.length === 7)));\n    }\n  }, [datastate.duration, datastate.interval]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: \"Required input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          children: \"Enter information for one of the grid selection types:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, _this), _this.state.state.length === 0 && _this.state.bbox.length === 0 && /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"loc\",\n          fieldlabel: \"Point location\",\n          value: _this.state.loc,\n          updateHelpFor: updateHelpFor,\n          updateParam: updateParam\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, _this), _this.state.loc.length === 0 && _this.state.bbox.length === 0 && /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"state\",\n          fieldlabel: \"State\",\n          value: _this.state.state,\n          updateHelpFor: updateHelpFor,\n          updateParam: updateParam\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, _this), _this.state.loc.length === 0 && _this.state.state.length === 0 && /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"bbox\",\n          fieldlabel: \"Bounding box\",\n          value: _this.state.bbox,\n          updateHelpFor: updateHelpFor,\n          updateParam: updateParam\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(DateSelection, {\n          sdate: _this.state.sdate,\n          edate: _this.state.edate,\n          date: _this.state.date,\n          updateHelpFor: updateHelpFor,\n          updateParam: updateParam\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"grid\",\n          fieldlabel: \"Grid id\",\n          value: _this.state.grid,\n          updateHelpFor: updateHelpFor,\n          updateParam: updateParam\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"elems\",\n          fieldlabel: \"Elements\",\n          value: _this.state.elems,\n          options: {\n            style: {\n              width: \"90%\"\n            },\n            multiline: true,\n            placeholder: \"Enter directly or build using Element setup\",\n            error: hasElemsError,\n            helperText: hasElemsError ? \"Error in elements encoding\" : \"\"\n          },\n          updateHelpFor: updateHelpFor,\n          updateParam: _this.updateElems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, _this), _this.state.elems.includes(\"{\") && /*#__PURE__*/_jsxDEV(Button, {\n          size: \"small\",\n          variant: \"outlined\",\n          className: classes.button,\n          onMouseDown: _this.clearElements,\n          children: \"Clear elements\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(QueryExplain, {\n          input_params: _this.props.input_params,\n          wstype: \"GridData\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: \"Optional element setup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"name\",\n          fieldlabel: \"Name\",\n          value: _this.state.name,\n          updateHelpFor: updateHelpFor,\n          updateParam: _this.updateElemBuild\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, _this), _this.state.name.includes(\"dd\") && /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"base\",\n          fieldlabel: \"Base\",\n          value: _this.state.base,\n          updateHelpFor: updateHelpFor,\n          updateParam: _this.updateElemBuild\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"interval\",\n          fieldlabel: \"Interval\",\n          value: _this.state.interval,\n          options: {\n            disabled: _this.state.haveInterval\n          },\n          updateHelpFor: updateHelpFor,\n          updateParam: _this.updateElemBuild\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"duration\",\n          fieldlabel: \"Duration\",\n          value: _this.state.duration,\n          updateHelpFor: updateHelpFor,\n          updateParam: _this.updateElemBuild\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, _this), _this.state.duration === 'std' && /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"season_start\",\n          fieldlabel: \"Season start\",\n          value: _this.state.season_start,\n          options: {\n            required: true\n          },\n          updateHelpFor: updateHelpFor,\n          updateParam: _this.updateElemBuild\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, _this), notdly && /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"reduce\",\n          fieldlabel: \"Reduce\",\n          value: _this.state.reduce,\n          options: {\n            required: true\n          },\n          updateHelpFor: updateHelpFor,\n          updateParam: _this.updateElemBuild\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, _this), notdly && /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"maxmissing\",\n          fieldlabel: \"Max missing\",\n          value: _this.state.maxmissing,\n          updateHelpFor: updateHelpFor,\n          updateParam: _this.updateElemBuild\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"smry\",\n          fieldlabel: \"Summary\",\n          value: _this.state.smry,\n          updateHelpFor: updateHelpFor,\n          updateParam: _this.updateElemBuild\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, _this), _this.state.smry.length > 0 && /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"smry_only\",\n          fieldlabel: \"Summary only\",\n          value: _this.state.smry_only,\n          updateHelpFor: updateHelpFor,\n          updateParam: _this.updateElemBuild\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"units\",\n          fieldlabel: \"Units\",\n          value: _this.state.units,\n          updateHelpFor: updateHelpFor,\n          updateParam: _this.updateElemBuild\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, _this), _this.state.loc.length === 0 && /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"area_reduce\",\n          fieldlabel: \"Area reduction\",\n          value: _this.state.area_reduce,\n          updateHelpFor: updateHelpFor,\n          updateParam: _this.updateElemBuild\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 13\n        }, _this), _this.state.name.length > 0 && /*#__PURE__*/_jsxDEV(Button, {\n          id: \"add\",\n          size: \"small\",\n          variant: \"outlined\",\n          className: classes.button,\n          onMouseDown: addElement,\n          children: \"Add element\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 13\n        }, _this), _this.state.name.length > 0 && _this.state.elems.includes(\"{\") && /*#__PURE__*/_jsxDEV(Button, {\n          id: \"replace\",\n          size: \"small\",\n          variant: \"outlined\",\n          className: classes.button,\n          style: {\n            marginLeft: \"0.5em\"\n          },\n          onMouseDown: addElement,\n          children: \"Replace elements\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: \"Optional input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"meta\",\n          fieldlabel: \"Meta options\",\n          value: _this.state.meta,\n          options: {\n            style: {\n              width: \"95%\"\n            }\n          },\n          updateHelpFor: updateHelpFor,\n          updateParam: updateParam\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(RenderTextField, {\n          id: \"output\",\n          fieldlabel: \"Output type\",\n          value: _this.state.output,\n          options: {\n            disabled: _this.state.meta.length && _this.state.output === 'json' ? true : false\n          },\n          updateHelpFor: updateHelpFor,\n          updateParam: _this.updateOutput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n          control: /*#__PURE__*/_jsxDEV(Switch, {\n            value: _this.state.mapcontrols,\n            onChange: _this.handleMapControlClick,\n            checked: _this.state.mapcontrols\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 15\n          }, _this),\n          label: \"Map settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, _this), _this.state.mapcontrols && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [_this.state.output !== 'image' && /*#__PURE__*/_jsxDEV(RenderTextField, {\n            id: \"info_only\",\n            fieldlabel: \"Info only\",\n            value: _this.state.info_only,\n            options: {\n              style: {\n                marginLeft: \"2em\"\n              }\n            },\n            updateHelpFor: updateHelpFor,\n            updateParam: _this.updateImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(RenderTextField, {\n            id: \"proj\",\n            fieldlabel: \"Proj\",\n            value: _this.state.proj,\n            options: {\n              style: {\n                marginLeft: \"2em\"\n              }\n            },\n            updateHelpFor: updateHelpFor,\n            updateParam: _this.updateImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(RenderTextField, {\n            id: \"overlays\",\n            fieldlabel: \"Overlays\",\n            value: _this.state.overlays,\n            options: {\n              style: {\n                marginLeft: \"2em\"\n              }\n            },\n            updateHelpFor: updateHelpFor,\n            updateParam: _this.updateImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(RenderTextField, {\n            id: \"interp\",\n            fieldlabel: \"Interp\",\n            value: _this.state.interp,\n            options: {\n              style: {\n                marginLeft: \"2em\"\n              }\n            },\n            updateHelpFor: updateHelpFor,\n            updateParam: _this.updateImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(RenderTextField, {\n            id: \"cmap\",\n            fieldlabel: \"Cmap\",\n            value: _this.state.cmap,\n            options: {\n              style: {\n                marginLeft: \"2em\"\n              }\n            },\n            updateHelpFor: updateHelpFor,\n            updateParam: _this.updateImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, _this), _this.state.height.length === 0 && /*#__PURE__*/_jsxDEV(RenderTextField, {\n            id: \"width\",\n            fieldlabel: \"Width\",\n            value: _this.state.width,\n            options: {\n              style: {\n                marginLeft: \"2em\"\n              },\n              required: _this.state.mapcontrols\n            },\n            updateHelpFor: updateHelpFor,\n            updateParam: _this.updateImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 17\n          }, _this), _this.state.width.length === 0 && /*#__PURE__*/_jsxDEV(RenderTextField, {\n            id: \"height\",\n            fieldlabel: \"Height\",\n            value: _this.state.height,\n            options: {\n              style: {\n                marginLeft: \"2em\"\n              },\n              required: _this.state.mapcontrols\n            },\n            updateHelpFor: updateHelpFor,\n            updateParam: _this.updateImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(RenderTextField, {\n            id: \"levels\",\n            fieldlabel: \"Levels\",\n            value: _this.state.levels,\n            options: {\n              style: {\n                marginLeft: \"2em\"\n              }\n            },\n            updateHelpFor: updateHelpFor,\n            updateParam: _this.updateImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, _this);\n};\n_s(GridDataInput, \"HyHar1EesUzAiCJeIWmFpVz5ass=\", false, function () {\n  return [useStyles];\n});\n_c = GridDataInput;\nexport default GridDataInput;\nvar _c;\n$RefreshReg$(_c, \"GridDataInput\");","map":{"version":3,"names":["React","useState","useEffect","Typography","Grid","Button","FormControlLabel","Switch","RenderTextField","DateSelection","QueryExplain","buildElement","buildImage","makeStyles","useStyles","theme","button","marginTop","GridDataInput","props","loc","state","bbox","sdate","edate","date","grid","elems","name","base","interval","duration","season_start","reduce","maxmissing","smry","smry_only","area_reduce","prec","units","meta","output","image","info_only","proj","overlays","interp","cmap","width","height","levels","datastate","setDatastate","notdly","setNotdly","hasInterval","setHasInterval","hasElemsError","setHasElemsError","mapcontrols","setMapcontrols","datafields","imagefields","elementKeys","Object","keys","filter","item","includes","classes","updateParam","update","updateInputParams","updateElemBuild","addElement","event","action","currentTarget","id","newElems","JSON","stringify","updateHelpFor","clearElements","updateElems","parse","updateImage","updateOutput","helpFor","handleMapControlClick","target","checked","shouldComponentUpdate","nextProps","nextState","some","key","input_params","hasOwnProperty","checkHasInterval","length","cond","forEach","ue","console","log","newstate","isNaN","Number","style","multiline","placeholder","error","helperText","disabled","haveInterval","required","marginLeft"],"sources":["/Users/kle1/progs/React/QueryBuilder3/src/GridDataInput.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Typography from '@mui/material/Typography'\nimport Grid from '@mui/material/Grid'\nimport Button from '@mui/material/Button'\nimport FormControlLabel from '@mui/material/FormControlLabel'\nimport Switch from '@mui/material/Switch'\nimport RenderTextField from './RenderTextField'\nimport DateSelection from './DateSelection'\nimport QueryExplain from './QueryExplain'\nimport { buildElement, buildImage } from './Builders.jsx'\nimport { makeStyles } from '@mui/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    marginTop: \"0.5em\", \n  }\n}))\n\nconst GridDataInput = (props) => { \n  const [ datastate, setDatastate] = useState({\n    loc: '',\n    state: '',\n    bbox: '',\n    sdate: '',\n    edate: '',\n    date: '',\n    grid: '',\n    elems: '',\n    name: '',\n    base: '',\n    interval: '',\n    duration: '',\n    season_start: '',\n    reduce: '',\n    maxmissing: '',\n    smry: '',\n    smry_only: '',\n    area_reduce: '',\n    prec: '',\n    units: '',\n    meta: '',\n    output: '',\n    image: '',\n    info_only: '',\n    proj: '',\n    overlays: '',\n    interp: '',\n    cmap: '',\n    width: '',\n    height: '',\n    levels: '',\n  })\n\n  const [ notdly, setNotdly ] = useState(false)\n  const [ hasInterval, setHasInterval ] = useState(false)\n  const [ hasElemsError, setHasElemsError ] = useState(false)\n  const [ mapcontrols, setMapcontrols ] = useState(false)\n  \n  const datafields = ['loc','state','bbox','sdate','edate','date','grid','elems','meta','output','image']\n  const imagefields = ['info_only','proj','overlays','interp','cmap','width','height','levels']\n  const elementKeys = Object.keys(this.state).filter(\n    item => (![...this.datafields,...this.imagefields].includes(item)\n  ))\n  \n  const classes = useStyles()\n\n  const updateParam = (update) => {\n    setDatastate({...datastate, ...update})\n    props.updateInputParams(update)\n  }\n\n  const updateElemBuild = (update) => {\n    setDatastate({...datastate, ...update})\n  }\n\n  const addElement = (event) => {\n    const action = event.currentTarget.id   //\"add\" or \"replace\"\n    const newElems = JSON.stringify(buildElement(elementKeys, datastate, action))\n    setDatastate({...datastate, ...{elems: newElems}})\n    props.updateInputParams({elems: newElems})\n    props.updateHelpFor(\"\")\n  }\n\n  const clearElements = () => {\n    setDatastate({...datastate, ...{elems: ''}})\n    props.updateInputParams({elems: \"\"})\n    props.updateHelpFor(\"\")\n    setHasInterval(false)\n    setHasElemsError(false)\n  }\n\n  const updateElems = (update) => {\n    setDatastate({...datastate, ...update})\n    try {\n      JSON.parse(update.elems)\n      setHasElemsError(false)\n      props.updateInputParams(update)\n    } catch {\n      setHasElemsError(true)\n    }\n  }\n\n  const updateImage = (update) => {\n    const image = buildImage(imagefields, datastate) //?????????????????????????????\n    setDatastate({...datastate, ...{image: image}})\n    props.updateInputParams({image: image})\n  }\n\n  const updateOutput = (update) => {\n    if (update.output === 'image') {\n      const image = buildImage(imagefields, datastate)\n      updateParam({output:\"image\", image:image})\n      setMapcontrols(true)\n    } else {\n      updateParam(update)\n    }\n  }\n\n  const updateHelpFor = (helpFor) => {\n    if (helpFor === 'meta') {\n      helpFor = 'grid_meta'\n    } else if (helpFor === 'output') {\n      helpFor = 'grid_output'\n    } else if (helpFor === 'reduce') {\n      helpFor = 'grid_reduce'\n    } else if (helpFor === 'name' || helpFor === 'elems') {\n      helpFor = 'grid_elems'\n    } \n    this.props.updateHelpFor(helpFor)\n  }\n  \n  handleMapControlClick = event => {\n    if (datastate.output !== 'image' || event.target.checked) {\n      const image = event.target.checked ? buildImage(imagefields, datastate) : \"\"\n      updateParam({image: image})\n      setMapcontrols(event.target.checked)\n    }\n  }\n\n  shouldComponentUpdate = (nextProps, nextState) => {\n    if (this.state !== nextState) {\n      return true\n    } else if (this.props !== nextProps) {\n      return this.datafields.some((key) => (nextProps.input_params.hasOwnProperty(key) && this.state[key] !== nextProps.input_params[key]) ||\n            (!nextProps.input_params.hasOwnProperty(key) && this.state[key] !== ''))\n    } else {\n      return false\n    }\n  }\n\n  const checkHasInterval = (update) => {\n    if (update.elems.length > 0) {\n      try {\n        let updateElems = JSON.parse(update.elems)\n        let cond = false\n        updateElems.forEach((ue) => {\n          if (ue.hasOwnProperty('interval') && ue.interval.length) {\n            cond = true\n          }\n        })\n        if (cond !== hasInterval) {\n          setHasInterval(cond)\n        }\n      } catch {\n        console.log('Error parsing elems update: ' + update.elems)\n      }\n    } else {\n      setHasInterval(false)\n    }\n  }\n\n  // Update local variable storage whenever input_params updates\n  useEffect(() => {\n    let newstate= {}\n    datafields.forEach((key) => {\n      if (props.input_params.hasOwnProperty(key)) {\n        if (key === 'elems' && typeof props.input_params.elems === 'object') {\n          newstate= ({...newstate, ...{[key]: JSON.stringify(props.input_params.elems)}})\n          checkHasInterval({[key]: JSON.stringify(props.input_params.elems)})\n        } else {\n          newstate= ({...newstate, ...{[key]: props.input_params[key]}})\n        }\n      } else {\n        newstate = ({...newstate, ...{[key]: ''}})\n      }\n    })\n    setDatastate({...datastate, ...newstate})\n    // eslint-disable-next-line\n  }, [props.input_params])\n\n  // Check for change to notdly whenever duration or interval changes\n  useEffect(() => {\n    if (datastate.duration) {\n      setNotdly((datastate.duration.length === 3 && datastate.duration !== 'dly') || \n        (datastate.duration.length > 0 && !isNaN(Number(datastate.duration)) && \n        (datastate.duration !== \"1\" || (datastate.interval !== 'dly' && !(datastate.interval.includes('[') && datastate.interval.length === 7)))))\n    }\n  }, [datastate.duration, datastate.interval])\n\n  return (\n    <div>\n      <Grid container>\n        <Grid item xs={4}>\n          <Typography variant=\"h6\">\n            Required input\n          </Typography>\n          <Typography variant=\"caption\">\n            Enter information for one of the grid selection types:\n          </Typography>\n          {this.state.state.length === 0 && \n            this.state.bbox.length === 0 && \n            <RenderTextField\n              id=\"loc\"\n              fieldlabel=\"Point location\"\n              value={this.state.loc}\n              updateHelpFor={updateHelpFor}\n              updateParam={updateParam}\n            />\n          }\n          {this.state.loc.length === 0 && \n            this.state.bbox.length === 0 && \n            <RenderTextField\n              id=\"state\"\n              fieldlabel=\"State\"\n              value={this.state.state}\n              updateHelpFor={updateHelpFor}\n              updateParam={updateParam}\n            />\n          }\n          {this.state.loc.length === 0 && \n            this.state.state.length === 0 && \n            <RenderTextField\n              id=\"bbox\"\n              fieldlabel=\"Bounding box\"\n              value={this.state.bbox}\n              updateHelpFor={updateHelpFor}\n              updateParam={updateParam}\n            />\n          }\n          <DateSelection\n            sdate={this.state.sdate}\n            edate={this.state.edate}\n            date={this.state.date}\n            updateHelpFor={updateHelpFor}\n            updateParam={updateParam}\n          />\n          <RenderTextField\n            id=\"grid\"\n            fieldlabel=\"Grid id\"\n            value={this.state.grid}\n            updateHelpFor={updateHelpFor}\n            updateParam={updateParam}\n          />\n          <RenderTextField\n            id=\"elems\"\n            fieldlabel=\"Elements\"\n            value={this.state.elems}\n            options={{\n              style: {width:\"90%\"}, \n              multiline: true, \n              placeholder: \"Enter directly or build using Element setup\",\n              error: hasElemsError,\n              helperText: hasElemsError ? \"Error in elements encoding\" : \"\",\n            }}\n            updateHelpFor={updateHelpFor}\n            updateParam={this.updateElems}\n          />\n          {this.state.elems.includes(\"{\") &&\n            <Button \n              size=\"small\"\n              variant=\"outlined\"\n              className={classes.button}\n              onMouseDown={this.clearElements}\n            >\n              Clear elements\n            </Button>\n          }\n          <QueryExplain\n            input_params={this.props.input_params}\n            wstype=\"GridData\"\n          />\n        </Grid>\n\n        <Grid item xs={4}>\n          <Typography variant=\"h6\">\n            Optional element setup\n          </Typography>\n          <RenderTextField\n            id=\"name\"\n            fieldlabel=\"Name\"\n            value={this.state.name}\n            updateHelpFor={updateHelpFor}\n            updateParam={this.updateElemBuild}\n          />\n          {this.state.name.includes(\"dd\") &&\n            <RenderTextField\n              id=\"base\"\n              fieldlabel=\"Base\"\n              value={this.state.base}\n              updateHelpFor={updateHelpFor}\n              updateParam={this.updateElemBuild}\n            />\n          }\n          <RenderTextField\n            id=\"interval\"\n            fieldlabel=\"Interval\"\n            value={this.state.interval}\n            options={{disabled:this.state.haveInterval}}\n            updateHelpFor={updateHelpFor}\n            updateParam={this.updateElemBuild}\n          />\n          <RenderTextField\n            id=\"duration\"\n            fieldlabel=\"Duration\"\n            value={this.state.duration}\n            updateHelpFor={updateHelpFor}\n            updateParam={this.updateElemBuild}\n          />\n          {this.state.duration === 'std' &&\n            <RenderTextField\n              id=\"season_start\"\n              fieldlabel=\"Season start\"\n              value={this.state.season_start}\n              options={{required:true}}\n              updateHelpFor={updateHelpFor}\n              updateParam={this.updateElemBuild}\n            />\n          }\n          {notdly &&\n            <RenderTextField\n              id=\"reduce\"\n              fieldlabel=\"Reduce\"\n              value={this.state.reduce}\n              options={{required:true}}\n              updateHelpFor={updateHelpFor}\n              updateParam={this.updateElemBuild}\n            />\n          }\n          {notdly &&\n            <RenderTextField\n              id=\"maxmissing\"\n              fieldlabel=\"Max missing\"\n              value={this.state.maxmissing}\n              updateHelpFor={updateHelpFor}\n              updateParam={this.updateElemBuild}\n            />\n          }\n          <RenderTextField\n            id=\"smry\"\n            fieldlabel=\"Summary\"\n            value={this.state.smry}\n            updateHelpFor={updateHelpFor}\n            updateParam={this.updateElemBuild}\n          />\n          {this.state.smry.length > 0 &&\n            <RenderTextField\n              id=\"smry_only\"\n              fieldlabel=\"Summary only\"\n              value={this.state.smry_only}\n              updateHelpFor={updateHelpFor}\n              updateParam={this.updateElemBuild}\n            />\n          }\n          <RenderTextField\n            id=\"units\"\n            fieldlabel=\"Units\"\n            value={this.state.units}\n            updateHelpFor={updateHelpFor}\n            updateParam={this.updateElemBuild}\n          />\n          {this.state.loc.length === 0 &&  \n            <RenderTextField\n              id=\"area_reduce\"\n              fieldlabel=\"Area reduction\"\n              value={this.state.area_reduce}\n              updateHelpFor={updateHelpFor}\n              updateParam={this.updateElemBuild}\n            />\n          }\n\n          {this.state.name.length > 0 &&\n            <Button \n              id=\"add\"\n              size=\"small\"\n              variant=\"outlined\"\n              className={classes.button}\n              onMouseDown={addElement}\n            >\n              Add element\n            </Button>\n          }\n          {this.state.name.length > 0 && this.state.elems.includes(\"{\") &&\n            <Button \n              id=\"replace\"\n              size=\"small\"\n              variant=\"outlined\"\n              className={classes.button}\n              style={{marginLeft:\"0.5em\"}}\n              onMouseDown={addElement}\n            >\n              Replace elements\n            </Button>\n          }\n        </Grid>\n\n        <Grid item xs={4}>\n          <Typography variant=\"h6\">\n            Optional input\n          </Typography>\n          <RenderTextField\n            id=\"meta\"\n            fieldlabel=\"Meta options\"\n            value={this.state.meta}\n            options={{style: {width:\"95%\"}}}\n            updateHelpFor={updateHelpFor}\n            updateParam={updateParam}\n          />\n          <RenderTextField\n            id=\"output\"\n            fieldlabel=\"Output type\"\n            value={this.state.output}\n            options={{disabled: this.state.meta.length && this.state.output === 'json' ? true : false}}\n            updateHelpFor={updateHelpFor}\n            updateParam={this.updateOutput}\n          />\n          <FormControlLabel\n            control={\n              <Switch\n                value={this.state.mapcontrols}\n                onChange={this.handleMapControlClick}\n                checked={this.state.mapcontrols}\n              />\n            }\n            label=\"Map settings\"\n          />\n          {this.state.mapcontrols &&\n            <div>\n              {this.state.output !== 'image' &&\n                <RenderTextField\n                  id=\"info_only\"\n                  fieldlabel=\"Info only\"\n                  value={this.state.info_only}\n                  options={{style: {marginLeft:\"2em\"}}}\n                  updateHelpFor={updateHelpFor}\n                  updateParam={this.updateImage}\n                />\n              }\n              <RenderTextField\n                id=\"proj\"\n                fieldlabel=\"Proj\"\n                value={this.state.proj}\n                options={{style: {marginLeft:\"2em\"}}}\n                updateHelpFor={updateHelpFor}\n                updateParam={this.updateImage}\n              />\n              <RenderTextField\n                id=\"overlays\"\n                fieldlabel=\"Overlays\"\n                value={this.state.overlays}\n                options={{style: {marginLeft:\"2em\"}}}\n                updateHelpFor={updateHelpFor}\n                updateParam={this.updateImage}\n              />\n              <RenderTextField\n                id=\"interp\"\n                fieldlabel=\"Interp\"\n                value={this.state.interp}\n                options={{style: {marginLeft:\"2em\"}}}\n                updateHelpFor={updateHelpFor}\n                updateParam={this.updateImage}\n              />\n              <RenderTextField\n                id=\"cmap\"\n                fieldlabel=\"Cmap\"\n                value={this.state.cmap}\n                options={{style: {marginLeft:\"2em\"}}}\n                updateHelpFor={updateHelpFor}\n                updateParam={this.updateImage}\n              />\n              {this.state.height.length === 0 &&\n                <RenderTextField\n                  id=\"width\"\n                  fieldlabel=\"Width\"\n                  value={this.state.width}\n                  options={{style: {marginLeft:\"2em\"}, required: this.state.mapcontrols}}\n                  updateHelpFor={updateHelpFor}\n                  updateParam={this.updateImage}\n                />\n              }\n              {this.state.width.length === 0 &&\n                <RenderTextField\n                  id=\"height\"\n                  fieldlabel=\"Height\"\n                  value={this.state.height}\n                  options={{style: {marginLeft:\"2em\"}, required: this.state.mapcontrols}}\n                  updateHelpFor={updateHelpFor}\n                  updateParam={this.updateImage}\n                />\n              }\n              <RenderTextField\n                id=\"levels\"\n                fieldlabel=\"Levels\"\n                value={this.state.levels}\n                options={{style: {marginLeft:\"2em\"}}}\n                updateHelpFor={updateHelpFor}\n                updateParam={this.updateImage}\n              />\n            </div>\n          }\n        </Grid>\n      </Grid>\n    </div>\n  )\n}\n\nexport default GridDataInput"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}