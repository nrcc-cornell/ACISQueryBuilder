{"ast":null,"code":"import _objectSpread from \"/Users/kle1/progs/React/QueryBuilder3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/kle1/progs/React/QueryBuilder3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/kle1/progs/React/QueryBuilder3/src/Output.jsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Paper from '@mui/material/Paper';\nimport Box from '@mui/material/Box';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport ResultsButtons from './ResultsButtons';\nimport CopyToClipboard from './CopyToClipboard';\nimport { basicFormat } from './builders';\nimport { acisServers } from './acisServers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Output = function Output(props) {\n  _s();\n  var _useState = useState({\n      results: \"\",\n      results_json: {},\n      //format: \"normal\", hard code all whitespace options to pre-wrap, instead of some being \"normal\"\n      dataimage: \"\"\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    datastate = _useState2[0],\n    setDatastate = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    input_params_string = _useState4[0],\n    setInput_params_string = _useState4[1];\n  var _useState5 = useState(acisServers[props.wstype]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    acisServerUrl = _useState6[0],\n    setAcisServerUrl = _useState6[1];\n  var _useState7 = useState(\"JSON\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    selectedButton = _useState8[0],\n    setSelectedButton = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    isCsv = _useState10[0],\n    setIsCsv = _useState10[1];\n\n  // user changed parameter string\n  var handleParamsChange = function handleParamsChange(event) {\n    setInput_params_string(event.target.value);\n    setDatastate(_objectSpread(_objectSpread({}, datastate), {\n      results: ''\n    }));\n    props.changedInput(event.target.value);\n  };\n\n  // submit parameter string to server\n  var handleSubmit = function handleSubmit() {\n    setDatastate(_objectSpread(_objectSpread({}, datastate), {\n      results: \"Submitting request ...\"\n    }));\n    var url = acisServerUrl + props.generalArea;\n    if (props.input_params.output !== \"image\") {\n      fetch(url, {\n        method: 'POST',\n        body: input_params_string,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (response) {\n        return response.ok && !isCsv ? response.json() : response.text();\n      }).then(function (data) {\n        setDatastate(_objectSpread(_objectSpread({}, datastate), {\n          results: typeof data === 'object' ? JSON.stringify(data, null, 0) : data,\n          results_json: data,\n          //format: typeof data === 'string' ? \"pre-wrap\" : \"normal\",\n          dataimage: \"\"\n        }));\n        setSelectedButton(typeof data === 'object' ? \"JSON\" : \"\");\n      }).catch(function (error) {\n        return setDatastate(_objectSpread(_objectSpread({}, datastate), {\n          results: 'Error: ' + error.message,\n          dataimage: \"\"\n        }));\n      });\n    } else {\n      setDatastate(_objectSpread(_objectSpread({}, datastate), {\n        results: \"image\",\n        results_json: '',\n        //format: 'normal',\n        dataimage: url + '?params=' + input_params_string\n      }));\n      setSelectedButton(\"\");\n    }\n  };\n\n  // user clicked one of the format buttons\n  var handleFormat = function handleFormat(results_button) {\n    setSelectedButton(results_button);\n    if (results_button === \"JSON\") {\n      setDatastate(_objectSpread(_objectSpread({}, datastate), {\n        results: JSON.stringify(datastate.results_json, null, 0),\n        //format:\"normal\", \n        dataimage: \"\"\n      }));\n    } else if (results_button === \"Basic format\") {\n      var basicFormatResults = basicFormat(datastate.results_json);\n      setDatastate(_objectSpread(_objectSpread({}, datastate), {\n        results: basicFormatResults.results_string,\n        //format:\"pre-wrap\", \n        dataimage: basicFormatResults.dataimage.length > 0 ? basicFormatResults.dataimage : ''\n      }));\n    } else if (results_button === \"Full format\") {\n      var hasImage = datastate.results_json.hasOwnProperty(\"data\") && datastate.results_json.data.includes(\"image/png;base64\");\n      setDatastate(_objectSpread(_objectSpread({}, datastate), {\n        results: JSON.stringify(datastate.results_json, null, 2),\n        //format: \"pre-wrap\", \n        dataimage: hasImage ? datastate.results_json.data : ''\n      }));\n    } else {\n      console.log('Error: unknown format button');\n    }\n  };\n\n  // JSON parameters object needs to be stringified for display in text box\n  useEffect(function () {\n    //if (Object.keys(props.input_params).length === 0) {\n    setDatastate(_objectSpread(_objectSpread({}, datastate), {\n      results: ''\n    }));\n    //}\n    var newparams = props.input_params;\n    if (props.input_params.hasOwnProperty(\"elems\") && props.input_params.elems.includes(\"{\")) {\n      var parsed_elems = JSON.parse(props.input_params.elems);\n      newparams = _objectSpread(_objectSpread({}, newparams), {\n        elems: parsed_elems\n      });\n    }\n    // empty bbox has to be converted from string to empty array in parameters string\n    if (props.input_params.hasOwnProperty('bbox') && props.input_params.bbox === \"[]\") {\n      newparams = _objectSpread(_objectSpread({}, newparams), {\n        bbox: []\n      });\n    }\n    setInput_params_string(JSON.stringify(newparams));\n    setIsCsv(props.input_params.output === 'csv');\n    // eslint-disable-next-line\n  }, [props.input_params]);\n\n  // update url of server whenever the wstype or specific server selections change\n  useEffect(function () {\n    console.log(\"effect\");\n    var serverurl = acisServers[props.wstype];\n    var rccindex = serverurl.indexOf('data.rcc-acis');\n    if (rccindex !== -1 && props.server !== 'Any') {\n      serverurl = \"\".concat(serverurl.slice(0, rccindex + 4), \".\").concat(props.server.toLowerCase()).concat(serverurl.slice(rccindex + 4));\n    }\n    setAcisServerUrl(serverurl);\n    setDatastate(_objectSpread(_objectSpread({}, datastate), {\n      results: \"\",\n      results_json: {},\n      dataimage: \"\"\n    }));\n    // eslint-disable-next-line\n  }, [props.wstype, props.server]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      mt: \"1em\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      children: [\"Parameters (JSON)\", input_params_string.length > 2 && /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        variant: \"go\",\n        onMouseDown: handleSubmit,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(TextField, {\n      id: \"params\",\n      value: input_params_string,\n      margin: \"dense\",\n      variant: \"outlined\",\n      error: props.hasParamsError,\n      helperText: props.hasParamsError ? \"Error in Parameters encoding\" : \"\",\n      multiline: true,\n      fullWidth: true,\n      inputProps: {\n        sx: {\n          fontSize: \"90%\",\n          p: 0\n        }\n      },\n      InputProps: {\n        endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n          position: \"end\",\n          children: /*#__PURE__*/_jsxDEV(CopyToClipboard, {\n            cliptext: input_params_string,\n            color: \"blue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, _this)\n      },\n      onChange: handleParamsChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, _this), datastate.results.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [datastate.results !== \"image\" && /*#__PURE__*/_jsxDEV(ResultsButtons, {\n        handleFormat: handleFormat,\n        showButtons: !isCsv,\n        selectedButton: selectedButton\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(Paper, {\n        variant: \"resultsPaper\",\n        children: [datastate.dataimage.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            component: \"pre\",\n            variant: \"pre\",\n            children: datastate.dataimage.includes(\"http\") ? \"Returned image\" : \"data (as image)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: datastate.dataimage,\n            alt: \"map\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 17\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 15\n        }, _this), !datastate.dataimage.includes(\"http\") && /*#__PURE__*/_jsxDEV(Typography, {\n          component: \"pre\",\n          variant: \"pre\",\n          children: datastate.results\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 15\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, _this);\n};\n_s(Output, \"p5dhgkFe9qbuttjPTF8Xt1TLZoY=\");\n_c = Output;\nexport default Output;\n\n/* old format pre results style (wordBreak:\"normal\",overflowWrap:\"anywhere\",whiteSpace:datastate.format} */\nvar _c;\n$RefreshReg$(_c, \"Output\");","map":{"version":3,"names":["React","useState","useEffect","Typography","Button","TextField","Paper","Box","InputAdornment","ResultsButtons","CopyToClipboard","basicFormat","acisServers","Output","props","results","results_json","dataimage","datastate","setDatastate","input_params_string","setInput_params_string","wstype","acisServerUrl","setAcisServerUrl","selectedButton","setSelectedButton","isCsv","setIsCsv","handleParamsChange","event","target","value","changedInput","handleSubmit","url","generalArea","input_params","output","fetch","method","body","headers","then","response","ok","json","text","data","JSON","stringify","catch","error","message","handleFormat","results_button","basicFormatResults","results_string","length","hasImage","hasOwnProperty","includes","console","log","newparams","elems","parsed_elems","parse","bbox","serverurl","rccindex","indexOf","server","slice","toLowerCase","mt","hasParamsError","sx","fontSize","p","endAdornment"],"sources":["/Users/kle1/progs/React/QueryBuilder3/src/Output.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Typography from '@mui/material/Typography'\nimport Button from '@mui/material/Button'\nimport TextField from '@mui/material/TextField'\nimport Paper from '@mui/material/Paper'\nimport Box from '@mui/material/Box'\nimport InputAdornment from '@mui/material/InputAdornment'\nimport ResultsButtons from './ResultsButtons'\nimport CopyToClipboard from './CopyToClipboard'\nimport { basicFormat } from './builders'\nimport { acisServers } from './acisServers'\n\nconst Output = (props) => {\n  const [ datastate, setDatastate ] = useState({\n    results: \"\",\n    results_json: {},\n    //format: \"normal\", hard code all whitespace options to pre-wrap, instead of some being \"normal\"\n    dataimage: \"\",\n  })\n  const [ input_params_string, setInput_params_string ] = useState(\"\")\n  const [ acisServerUrl, setAcisServerUrl ] = useState(acisServers[props.wstype])\n  const [ selectedButton, setSelectedButton ] = useState(\"JSON\")\n  const [ isCsv, setIsCsv ] = useState(false)\n\n  // user changed parameter string\n  const handleParamsChange = event => {\n    setInput_params_string(event.target.value)\n    setDatastate({...datastate, ...{results: ''}})\n    props.changedInput(event.target.value)\n  }  \n\n  // submit parameter string to server\n  const handleSubmit = () => {\n    setDatastate({...datastate, ...{\n      results: \"Submitting request ...\"\n    }})\n    const url = acisServerUrl + props.generalArea\n    if (props.input_params.output !== \"image\") {\n      fetch(url, {\n        method: 'POST',\n        body: input_params_string,\n        headers: {'Content-Type': 'application/json'}\n      })\n        .then(response => response.ok && !isCsv ? response.json() : response.text())\n        .then(data => {\n          setDatastate({...datastate, ...{\n            results: typeof data === 'object' ? JSON.stringify(data,null,0) : data,\n            results_json: data,\n            //format: typeof data === 'string' ? \"pre-wrap\" : \"normal\",\n            dataimage: \"\",\n          }})\n          setSelectedButton(typeof data === 'object' ? \"JSON\" : \"\")\n        })\n        .catch(error => setDatastate({...datastate, ...{\n          results: 'Error: ' + error.message,\n          dataimage: \"\"\n        }}))\n    } else {\n      setDatastate({...datastate, ...{\n        results: \"image\",\n        results_json: '',\n        //format: 'normal',\n        dataimage: url + '?params=' + input_params_string\n      }})\n      setSelectedButton(\"\")\n    }\n  }\n\n  // user clicked one of the format buttons\n  const handleFormat = (results_button) => {\n    setSelectedButton(results_button)\n    if (results_button === \"JSON\") {\n      setDatastate({...datastate, ...{\n        results: JSON.stringify(datastate.results_json,null,0), \n        //format:\"normal\", \n        dataimage: \"\",\n      }})\n    } else if (results_button === \"Basic format\") {\n      const basicFormatResults = basicFormat(datastate.results_json)\n      setDatastate({...datastate, ...{\n        results: basicFormatResults.results_string,\n        //format:\"pre-wrap\", \n        dataimage: basicFormatResults.dataimage.length > 0 ? basicFormatResults.dataimage : '',\n      }})\n    } else if (results_button === \"Full format\") {\n      const hasImage = datastate.results_json.hasOwnProperty(\"data\") && datastate.results_json.data.includes(\"image/png;base64\")\n      setDatastate({...datastate, ...{\n        results: JSON.stringify(datastate.results_json,null,2), \n        //format: \"pre-wrap\", \n        dataimage: hasImage ? datastate.results_json.data : ''\n      }})\n    } else {\n      console.log('Error: unknown format button')\n    }\n  }\n\n  // JSON parameters object needs to be stringified for display in text box\n  useEffect(() => {\n    //if (Object.keys(props.input_params).length === 0) {\n      setDatastate({...datastate, ...{results:''}})\n    //}\n    let newparams = props.input_params\n    if (props.input_params.hasOwnProperty(\"elems\") && props.input_params.elems.includes(\"{\")) {\n      const parsed_elems = JSON.parse(props.input_params.elems)\n      newparams = ({...newparams, ...{elems: parsed_elems}})\n    }\n    // empty bbox has to be converted from string to empty array in parameters string\n    if (props.input_params.hasOwnProperty('bbox') && props.input_params.bbox === \"[]\") {\n      newparams = ({...newparams, ...{bbox: []}})\n    }\n    setInput_params_string(JSON.stringify(newparams))\n    setIsCsv(props.input_params.output === 'csv')\n    // eslint-disable-next-line\n  }, [props.input_params])\n\n  // update url of server whenever the wstype or specific server selections change\n  useEffect(() => {\n    console.log(\"effect\")\n    let serverurl = acisServers[props.wstype]\n    const rccindex = serverurl.indexOf('data.rcc-acis')\n    if (rccindex !== -1 && props.server !== 'Any') {\n      serverurl = `${serverurl.slice(0,rccindex+4)}.${props.server.toLowerCase()}${serverurl.slice(rccindex+4)}`\n    }\n    setAcisServerUrl(serverurl)\n    setDatastate({...datastate, ...{\n      results: \"\",\n      results_json: {},\n      dataimage: \"\",\n    }})\n    // eslint-disable-next-line\n}, [props.wstype, props.server])\n\n  return (\n    <Box sx={{mt:\"1em\"}}>\n      <Typography variant=\"h6\">\n        Parameters (JSON)\n        {input_params_string.length > 2 &&\n          <Button \n            size=\"small\"\n            variant=\"go\"\n            onMouseDown={handleSubmit}\n          >\n            Submit\n          </Button>\n        }\n      </Typography>\n      <TextField\n        id=\"params\"\n        value={input_params_string}\n        margin=\"dense\"\n        variant=\"outlined\"\n        error={props.hasParamsError}\n        helperText={props.hasParamsError ? \"Error in Parameters encoding\" : \"\"}\n        multiline={true}\n        fullWidth={true}\n        inputProps={{sx:{fontSize:\"90%\",p:0}}}\n        InputProps={{\n          endAdornment: (\n            <InputAdornment position=\"end\">\n              <CopyToClipboard cliptext={input_params_string} color=\"blue\" />\n            </InputAdornment>\n          )\n        }}\n        onChange={handleParamsChange}\n      />\n      \n      {datastate.results.length > 0 && \n        <div>\n          {datastate.results !== \"image\" &&\n            <ResultsButtons\n              handleFormat={handleFormat}\n              showButtons={!isCsv}\n              selectedButton={selectedButton}\n            />\n          }\n          <Paper variant=\"resultsPaper\">\n            {datastate.dataimage.length > 0 &&\n              <div>\n                <Typography component=\"pre\" variant=\"pre\">\n                  {datastate.dataimage.includes(\"http\") ? \"Returned image\" : \"data (as image)\"}\n                </Typography>\n                <img src={datastate.dataimage} alt=\"map\" />\n              </div>\n            }\n            {!datastate.dataimage.includes(\"http\") &&\n              <Typography component=\"pre\" variant=\"pre\">\n                {datastate.results}\n              </Typography>\n            }\n          </Paper>\n        </div>\n      }\n    </Box>\n  )\n}\n\nexport default Output  \n\n/* old format pre results style (wordBreak:\"normal\",overflowWrap:\"anywhere\",whiteSpace:datastate.format} */"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}