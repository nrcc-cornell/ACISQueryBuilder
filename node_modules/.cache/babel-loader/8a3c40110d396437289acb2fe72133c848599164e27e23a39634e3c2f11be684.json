{"ast":null,"code":"import _objectSpread from \"/Users/kle1/progs/React/QueryBuilder3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _jsxFileName = \"/Users/kle1/progs/React/QueryBuilder3/src/App.jsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React from 'react';\nimport ReactGA from 'react-ga';\nimport QuerySelector from './QuerySelector.jsx';\nimport StnMetaInput from './StnMetaInput.jsx';\nimport StnDataInput from './StnDataInput.jsx';\nimport MultiStnDataInput from './MultiStnDataInput.jsx';\nimport StnHourlyInput from './StnHourlyInput.jsx';\nimport GridDataInput from './GridDataInput.jsx';\nimport GridData2Input from './GridData2Input.jsx';\nimport GeneralInput from './GeneralInput.jsx';\nimport Output from './Output';\nimport HelpTable from './HelpTable';\nimport Footer from './Footer.jsx';\n//import QueryExplain from './QueryExplain'\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar acis_servers = {\n  StnMeta: \"https://data.rcc-acis.org/StnMeta\",\n  StnData: \"https://data.rcc-acis.org/StnData\",\n  MultiStnData: \"https://data.rcc-acis.org/MultiStnData\",\n  GridData: \"https://data.rcc-acis.org/GridData\",\n  GridData2: \"https://grid2.rcc-acis.org/GridData\",\n  StnHourly: \"https://data.nrcc.rcc-acis.org/StnData\",\n  General: \"https://data.rcc-acis.org/General/\"\n};\nvar query_types = Object.keys(acis_servers);\nvar App = function App() {\n  _s();\n  _this.state = {\n    wstype: 'StnData',\n    input_params: {},\n    generalArea: '',\n    helpFor: null,\n    server: 'Any'\n  };\n  useEffect(function () {\n    ReactGA.initialize('UA-47226172-1');\n    ReactGA.pageview('Builder-pageview');\n  }, []);\n  handleQueryChange = function handleQueryChange(value) {\n    _this.setState({\n      wstype: value,\n      input_params: {},\n      generalArea: '',\n      helpFor: null\n    });\n  };\n  handleInputStringChange = function handleInputStringChange(inputString) {\n    if (inputString.length > 0) {\n      try {\n        _this.setState({\n          input_params: JSON.parse(inputString)\n        });\n      } catch (_unused) {\n        return;\n      }\n    }\n  };\n  updateInputParams = function updateInputParams(changes) {\n    var input_params = _objectSpread({}, _this.state.input_params);\n    Object.keys(changes).forEach(function (key) {\n      var value = changes[key];\n      if (value || typeof value === 'object' && Object.keys(value).length > 0) {\n        input_params[key] = value;\n      } else {\n        delete input_params[key];\n      }\n    });\n    _this.setState({\n      input_params: input_params\n    });\n  };\n  updateAppState = function updateAppState(change) {\n    _this.setState(change);\n  };\n  var acisServer = acis_servers[_this.state.wstype];\n  var datarccindex = acisServer.indexOf('data.rcc-acis');\n  if (datarccindex !== -1 && _this.state.server !== 'Any') {\n    acisServer = acisServer.substring(0, datarccindex + 4) + \".\" + _this.state.server.toLowerCase() + acisServer.substring(datarccindex + 4);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(QuerySelector, {\n      query_types: query_types,\n      wstype: _this.state.wstype,\n      handleChange: _this.handleQueryChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, _this), _this.state.wstype === \"StnMeta\" && /*#__PURE__*/_jsxDEV(StnMetaInput, {\n      updateInputParams: _this.updateInputParams,\n      updateAppState: _this.updateAppState,\n      input_params: _this.state.input_params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }, _this), _this.state.wstype === \"StnData\" && /*#__PURE__*/_jsxDEV(StnDataInput, {\n      updateInputParams: _this.updateInputParams,\n      updateAppState: _this.updateAppState,\n      input_params: _this.state.input_params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }, _this), _this.state.wstype === \"MultiStnData\" && /*#__PURE__*/_jsxDEV(MultiStnDataInput, {\n      updateInputParams: _this.updateInputParams,\n      updateAppState: _this.updateAppState,\n      input_params: _this.state.input_params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }, _this), _this.state.wstype === \"StnHourly\" && /*#__PURE__*/_jsxDEV(StnHourlyInput, {\n      updateInputParams: _this.updateInputParams,\n      updateAppState: _this.updateAppState,\n      input_params: _this.state.input_params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }, _this), _this.state.wstype === \"GridData\" && /*#__PURE__*/_jsxDEV(GridDataInput, {\n      updateInputParams: _this.updateInputParams,\n      updateAppState: _this.updateAppState,\n      input_params: _this.state.input_params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }, _this), _this.state.wstype === \"GridData2\" && /*#__PURE__*/_jsxDEV(GridData2Input, {\n      updateInputParams: _this.updateInputParams,\n      updateAppState: _this.updateAppState,\n      input_params: _this.state.input_params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }, _this), _this.state.wstype === \"General\" && /*#__PURE__*/_jsxDEV(GeneralInput, {\n      updateInputParams: _this.updateInputParams,\n      updateAppState: _this.updateAppState,\n      input_params: _this.state.input_params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }, _this), _this.state.helpFor && /*#__PURE__*/_jsxDEV(HelpTable, {\n      id: _this.state.helpFor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }, _this), /*#__PURE__*/_jsxDEV(Output, {\n      input_params: _this.state.input_params,\n      changedInput: _this.handleInputStringChange,\n      generalArea: _this.state.generalArea,\n      acisServer: acisServer,\n      server: _this.state.server\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, _this), _this.state.wstype !== 'StnHourly' && _this.state.wstype !== 'GridData2' && /*#__PURE__*/_jsxDEV(Footer, {\n      server: _this.state.server,\n      updateAppState: _this.updateAppState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 7\n  }, _this);\n};\n_s(App, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","ReactGA","QuerySelector","StnMetaInput","StnDataInput","MultiStnDataInput","StnHourlyInput","GridDataInput","GridData2Input","GeneralInput","Output","HelpTable","Footer","acis_servers","StnMeta","StnData","MultiStnData","GridData","GridData2","StnHourly","General","query_types","Object","keys","App","state","wstype","input_params","generalArea","helpFor","server","useEffect","initialize","pageview","handleQueryChange","value","setState","handleInputStringChange","inputString","length","JSON","parse","updateInputParams","changes","forEach","key","updateAppState","change","acisServer","datarccindex","indexOf","substring","toLowerCase"],"sources":["/Users/kle1/progs/React/QueryBuilder3/src/App.jsx"],"sourcesContent":["import React from 'react'\nimport ReactGA from 'react-ga'\nimport QuerySelector from './QuerySelector.jsx'\nimport StnMetaInput from './StnMetaInput.jsx'\nimport StnDataInput from './StnDataInput.jsx'\nimport MultiStnDataInput from './MultiStnDataInput.jsx'\nimport StnHourlyInput from './StnHourlyInput.jsx'\nimport GridDataInput from './GridDataInput.jsx'\nimport GridData2Input from './GridData2Input.jsx'\nimport GeneralInput from './GeneralInput.jsx'\nimport Output from './Output'\nimport HelpTable from './HelpTable'\nimport Footer from './Footer.jsx'\n//import QueryExplain from './QueryExplain'\n\nconst acis_servers = {\n  StnMeta: \"https://data.rcc-acis.org/StnMeta\",\n  StnData: \"https://data.rcc-acis.org/StnData\",\n  MultiStnData: \"https://data.rcc-acis.org/MultiStnData\",\n  GridData: \"https://data.rcc-acis.org/GridData\",\n  GridData2: \"https://grid2.rcc-acis.org/GridData\",\n  StnHourly: \"https://data.nrcc.rcc-acis.org/StnData\",\n  General: \"https://data.rcc-acis.org/General/\",\n}\nconst query_types = Object.keys(acis_servers)\n\n\nconst App = () => {\n\n    this.state = {\n      wstype: 'StnData',\n      input_params: {},\n      generalArea: '',\n      helpFor: null,\n      server: 'Any',\n    }\n  \n  useEffect(() => {\n    ReactGA.initialize('UA-47226172-1')\n    ReactGA.pageview('Builder-pageview')    \n  }, [])\n\n  handleQueryChange = (value) => {\n    this.setState({ \n      wstype: value, \n      input_params: {},\n      generalArea: '',\n      helpFor: null,\n    })\n  }\n\n  handleInputStringChange = (inputString) => {\n    if (inputString.length > 0) {\n      try {\n        this.setState({\n          input_params: JSON.parse(inputString)\n        })\n      } catch {\n        return\n      }\n    }\n  }\n\n  updateInputParams = (changes) => {\n    let input_params = {...this.state.input_params}\n    Object.keys(changes).forEach((key) => {\n      const value = changes[key]\n      if (value || (typeof value === 'object' && Object.keys(value).length > 0)) {\n        input_params[key] = value\n      } else {\n        delete input_params[key]\n      }\n    })\n    this.setState({ input_params })\n  }\n\n  updateAppState = (change) => {\n    this.setState(change)\n  }\n  \n\n    let acisServer = acis_servers[this.state.wstype]\n    const datarccindex = acisServer.indexOf('data.rcc-acis')\n    if (datarccindex !== -1 && this.state.server !== 'Any') {\n      acisServer = acisServer.substring(0,datarccindex+4) + \".\" + this.state.server.toLowerCase() + acisServer.substring(datarccindex+4)\n    }\n    return (\n      <div>\n        <QuerySelector\n          query_types={query_types}\n          wstype={this.state.wstype}\n          handleChange={this.handleQueryChange}\n        />\n        {this.state.wstype === \"StnMeta\" && \n          <StnMetaInput \n            updateInputParams={this.updateInputParams}\n            updateAppState={this.updateAppState}\n            input_params={this.state.input_params}\n          />\n        }\n        {this.state.wstype === \"StnData\" && \n          <StnDataInput \n            updateInputParams={this.updateInputParams}\n            updateAppState={this.updateAppState}\n            input_params={this.state.input_params}\n          />\n        }\n        {this.state.wstype === \"MultiStnData\" && \n          <MultiStnDataInput \n            updateInputParams={this.updateInputParams}\n            updateAppState={this.updateAppState}\n            input_params={this.state.input_params}\n          />\n        }\n        {this.state.wstype === \"StnHourly\" && \n          <StnHourlyInput \n            updateInputParams={this.updateInputParams}\n            updateAppState={this.updateAppState}\n            input_params={this.state.input_params}\n          />\n        }\n        {this.state.wstype === \"GridData\" && \n          <GridDataInput \n            updateInputParams={this.updateInputParams}\n            updateAppState={this.updateAppState}\n            input_params={this.state.input_params}\n          />\n        }\n        {this.state.wstype === \"GridData2\" && \n          <GridData2Input \n            updateInputParams={this.updateInputParams}\n            updateAppState={this.updateAppState}\n            input_params={this.state.input_params}\n          />\n        }\n        {this.state.wstype === \"General\" && \n          <GeneralInput \n            updateInputParams={this.updateInputParams}\n            updateAppState={this.updateAppState}\n            input_params={this.state.input_params}\n          />\n        }\n        {this.state.helpFor && \n          <HelpTable \n            id={this.state.helpFor}\n          /> \n        }\n        <Output\n          input_params={this.state.input_params} \n          changedInput={this.handleInputStringChange}\n          generalArea={this.state.generalArea}\n          acisServer={acisServer}\n          server={this.state.server}\n        />\n        {this.state.wstype !== 'StnHourly' && this.state.wstype !== 'GridData2' &&\n          <Footer \n            server={this.state.server}\n            updateAppState={this.updateAppState}\n          />\n        }\n      </div>\n    )\n  \n}\n\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}